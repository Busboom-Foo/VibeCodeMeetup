(()=>{"use strict";var t;!function(t){t.SHORT_FART="SHORT_FART",t.LONG_FART="LONG_FART",t.CIRCLE_FART="CIRCLE_FART",t.SUPER_FART="SUPER_FART",t.MEGA_FART="MEGA_FART",t.ULTRA_FART="ULTRA_FART"}(t||(t={}));class s{constructor(t,s,i,e,h){this.x=t,this.y=s,this.width=i,this.height=e,this.lifetime=h,this.maxLifetime=h,this.dissipationRate=1;const r=Math.floor(100*Math.random())+100,a=Math.floor(50*Math.random())+100;this.color=`rgba(${a}, ${r}, 50, 0.7)`}update(t){this.lifetime-=t*this.dissipationRate,this.width+=5*t,this.height+=5*t}draw(t){const s=this.lifetime/this.maxLifetime*.7,i=`${this.color.substring(0,this.color.lastIndexOf(",")+1)} ${s})`;t.fillStyle=i,t.beginPath(),t.ellipse(this.x,this.y,this.width,this.height,0,0,2*Math.PI),t.fill()}isDissipated(){return this.lifetime<=0}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}}class i{constructor(s,i,e){this.width=40,this.height=40,this.speed=5,this.fartPower=1,this.currentFartType=t.SHORT_FART,this.isAlive=!0,this.isFarting=!1,this.fartAnimationTimer=0,this.fartAnimationDuration=.3,this.fartClouds=[],this.x=s,this.y=i,this.canvas=e}update(t){if(this.isAlive){this.isFarting&&(this.fartAnimationTimer+=t,this.fartAnimationTimer>=this.fartAnimationDuration&&(this.isFarting=!1,this.fartAnimationTimer=0));for(let s=this.fartClouds.length-1;s>=0;s--)this.fartClouds[s].update(t),this.fartClouds[s].isDissipated()&&this.fartClouds.splice(s,1)}}draw(t){this.fartClouds.forEach((s=>s.draw(t))),t.save(),t.fillStyle=this.isAlive?this.isFarting?"#77CC77":"#55AA55":"#888888",t.beginPath(),t.ellipse(this.x,this.y,this.width/2,this.height/2,0,0,2*Math.PI),t.fill();const s=this.width/10,i=this.width/4,e=-this.height/6;t.fillStyle="#FFFFFF",t.beginPath(),t.arc(this.x-i,this.y+e,s,0,2*Math.PI),t.arc(this.x+i,this.y+e,s,0,2*Math.PI),t.fill(),t.fillStyle="#000000";const h=s/2;t.beginPath(),t.arc(this.x-i,this.y+e,h,0,2*Math.PI),t.arc(this.x+i,this.y+e,h,0,2*Math.PI),t.fill(),t.strokeStyle="#000000",t.lineWidth=2,t.beginPath(),this.isAlive?t.arc(this.x,this.y+this.height/8,this.width/4,0,Math.PI):(t.moveTo(this.x-i-s,this.y+e-s),t.lineTo(this.x-i+s,this.y+e+s),t.moveTo(this.x-i+s,this.y+e-s),t.lineTo(this.x-i-s,this.y+e+s),t.moveTo(this.x+i-s,this.y+e-s),t.lineTo(this.x+i+s,this.y+e+s),t.moveTo(this.x+i+s,this.y+e-s),t.lineTo(this.x+i-s,this.y+e+s),t.moveTo(this.x-this.width/4,this.y+this.height/4),t.quadraticCurveTo(this.x,this.y+this.height/2,this.x+this.width/4,this.y+this.height/4)),t.stroke(),t.restore(),this.drawFartTypeIndicator(t)}drawFartTypeIndicator(s){if(!this.isAlive)return;const i={[t.SHORT_FART]:"#3498db",[t.LONG_FART]:"#2ecc71",[t.CIRCLE_FART]:"#f1c40f",[t.SUPER_FART]:"#e74c3c",[t.MEGA_FART]:"#9b59b6",[t.ULTRA_FART]:"#1abc9c"}[this.currentFartType]||"#3498db";s.fillStyle=i,s.beginPath(),s.arc(this.x,this.y-this.height/2-10,5,0,2*Math.PI),s.fill()}moveLeft(){this.isAlive&&(this.x-=this.speed,this.x<this.width/2&&(this.x=this.width/2))}moveRight(){this.isAlive&&(this.x+=this.speed,this.x>this.canvas.width-this.width/2&&(this.x=this.canvas.width-this.width/2))}fart(){if(this.isAlive&&!this.isFarting)switch(this.isFarting=!0,this.fartAnimationTimer=0,this.currentFartType){case t.SHORT_FART:this.createShortFart(),this.moveForward(1*this.fartPower);break;case t.LONG_FART:this.createLongFart(),this.moveForward(2*this.fartPower);break;case t.CIRCLE_FART:this.createCircleFart(),this.moveForward(1.5*this.fartPower);break;case t.SUPER_FART:this.createSuperFart(),this.moveForward(2.5*this.fartPower);break;case t.MEGA_FART:this.createMegaFart(),this.moveForward(3*this.fartPower);break;case t.ULTRA_FART:this.createUltraFart(),this.moveForward(4*this.fartPower)}}moveForward(t){this.y-=20*t}createShortFart(){const t=new s(this.x,this.y+this.height/2,20,20,1.5);this.fartClouds.push(t)}createLongFart(){for(let t=0;t<3;t++){const i=new s(this.x,this.y+this.height/2+15*t,20-2*t,20-2*t,2-.3*t);this.fartClouds.push(i)}}createCircleFart(){for(let t=0;t<8;t++){const i=t/8*Math.PI*2,e=this.x+30*Math.cos(i),h=this.y+30*Math.sin(i),r=new s(e,h,15,15,2);this.fartClouds.push(r)}}createSuperFart(){for(let t=0;t<5;t++){const i=new s(this.x,this.y+this.height/2+15*t,25-2*t,25-2*t,2.5-.2*t);this.fartClouds.push(i)}}createMegaFart(){for(let t=0;t<12;t++){const i=t/12*Math.PI*2,e=this.x+40*Math.cos(i),h=this.y+40*Math.sin(i),r=new s(e,h,20,20,3);this.fartClouds.push(r)}}createUltraFart(){for(let t=1;t<=3;t++){const i=8,e=20*t;for(let h=0;h<i;h++){const r=h/i*Math.PI*2,a=this.x+Math.cos(r)*e,o=this.y+Math.sin(r)*e,n=new s(a,o,25-3*t,25-3*t,4-.5*t);this.fartClouds.push(n)}}}hit(){this.isAlive=!1}collectPowerUp(t){this.currentFartType=t,this.fartPower=1.5,setTimeout((()=>{this.fartPower=1}),5e3)}reset(s,i){this.x=s,this.y=i,this.isAlive=!0,this.isFarting=!1,this.currentFartType=t.SHORT_FART,this.fartPower=1,this.fartClouds=[]}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}getCurrentFartType(){return this.currentFartType}getFartClouds(){return this.fartClouds}}class e{constructor(t,s,i,e){switch(this.width=80,this.height=40,this.isSlowed=!1,this.slowTimer=0,this.slowDuration=3,this.x=t,this.y=s,this.speed=i,this.originalSpeed=i,e){case"car1":this.carColor="#ff0000";break;case"car2":this.carColor="#0000ff";break;case"car3":this.carColor="#ffcc00";break;default:this.carColor="#888888"}}update(t){this.x+=this.speed*t,this.isSlowed&&(this.slowTimer-=t,this.slowTimer<=0&&(this.isSlowed=!1,this.speed=this.originalSpeed))}draw(t){const s=this.speed>0;t.save(),t.fillStyle=this.carColor,t.fillRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height),t.fillStyle="#222222";const i=.5*this.width,e=.5*this.height,h=this.x-i/2,r=this.y-e/2;t.fillRect(h,r,i,e);const a=.25*this.height,o=.3*this.width;t.fillStyle="#000000",t.beginPath(),t.arc(this.x-o,this.y+.3*this.height,a,0,2*Math.PI),t.arc(this.x+o,this.y+.3*this.height,a,0,2*Math.PI),t.fill();const n=.1*this.height,l=.4*this.width,c=.1*this.height;s?(t.fillStyle="#ffffff",t.beginPath(),t.arc(this.x+l,this.y-c,n,0,2*Math.PI),t.fill(),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.x-l,this.y-c,n,0,2*Math.PI),t.fill()):(t.fillStyle="#ffffff",t.beginPath(),t.arc(this.x-l,this.y-c,n,0,2*Math.PI),t.fill(),t.fillStyle="#ff0000",t.beginPath(),t.arc(this.x+l,this.y-c,n,0,2*Math.PI),t.fill()),t.restore(),this.isSlowed&&this.drawSlowEffect(t)}drawSlowEffect(t){t.fillStyle="rgba(100, 200, 50, 0.3)",t.beginPath(),t.ellipse(this.x,this.y,.7*this.width,.7*this.height,0,0,2*Math.PI),t.fill()}slowDown(){this.isSlowed||(this.isSlowed=!0,this.speed=.4*this.originalSpeed),this.slowTimer=this.slowDuration}isOffScreen(){return this.speed>0?this.x-this.width/2>900:this.x+this.width/2<-100}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}}class h{constructor(s,i,e){this.width=30,this.height=30,this.pulseSize=0,this.pulseDirection=1,this.pulseSpeed=2,this.colors={[t.SHORT_FART]:"#3498db",[t.LONG_FART]:"#2ecc71",[t.CIRCLE_FART]:"#f1c40f",[t.SUPER_FART]:"#e74c3c",[t.MEGA_FART]:"#9b59b6",[t.ULTRA_FART]:"#1abc9c"},this.x=s,this.y=i,this.fartType=e}update(t){this.pulseSize+=this.pulseDirection*this.pulseSpeed*t,this.pulseSize>5?this.pulseDirection=-1:this.pulseSize<0&&(this.pulseDirection=1)}draw(s){const i=this.colors[this.fartType];let e;switch(s.fillStyle=i,s.beginPath(),s.arc(this.x,this.y,this.width/2+this.pulseSize,0,2*Math.PI),s.fill(),s.fillStyle="white",s.beginPath(),s.arc(this.x,this.y,this.width/4,0,2*Math.PI),s.fill(),this.fartType){case t.SHORT_FART:e="S";break;case t.LONG_FART:e="L";break;case t.CIRCLE_FART:e="C";break;case t.SUPER_FART:e="SP";break;case t.MEGA_FART:e="M";break;case t.ULTRA_FART:e="U"}s.fillStyle="black",s.font="10px Arial",s.textAlign="center",s.textBaseline="middle",s.fillText(e,this.x,this.y)}isOffScreen(){return this.y>600+this.height}getFartType(){return this.fartType}getX(){return this.x}getY(){return this.y}getWidth(){return this.width}getHeight(){return this.height}}class r{constructor(t,s,i,e){this.level=t,this.carSpawnRate=s,this.carSpeed=i,this.powerUpRate=e}}class a{constructor(){this.keys=new Map,this.keysPressedThisFrame=new Set,this.mouseX=0,this.mouseY=0,this.mouseClicked=!1,window.addEventListener("keydown",(t=>{this.keys.set(t.key,!0),this.keysPressedThisFrame.add(t.key)})),window.addEventListener("keyup",(t=>{this.keys.set(t.key,!1)})),window.addEventListener("mousemove",(t=>{this.mouseX=t.clientX,this.mouseY=t.clientY})),window.addEventListener("mousedown",(()=>{this.mouseClicked=!0})),window.addEventListener("mouseup",(()=>{this.mouseClicked=!1}))}isKeyDown(t){return!0===this.keys.get(t)}isKeyPressed(t){const s=this.keysPressedThisFrame.has(t);return s&&this.keysPressedThisFrame.delete(t),s}isMouseClicked(){const t=this.mouseClicked;return this.mouseClicked=!1,t}getMouseX(){return this.mouseX}getMouseY(){return this.mouseY}update(){this.keysPressedThisFrame.clear()}}class o{checkCollision(t,s){const i=t.getX(),e=t.getY(),h=t.getWidth(),r=t.getHeight(),a=s.getX(),o=s.getY(),n=s.getWidth(),l=s.getHeight();return i+h/2>a-n/2&&i-h/2<a+n/2&&e+r/2>o-l/2&&e-r/2<o+l/2}isPointInObject(t,s,i){const e=i.getX(),h=i.getY(),r=i.getWidth(),a=i.getHeight();return t>=e-r/2&&t<=e+r/2&&s>=h-a/2&&s<=h+a/2}}class n{constructor(){}loadSounds(){}playBackgroundMusic(){}stopBackgroundMusic(){}playFartSound(t){}playHitSound(){}playPowerUpSound(){}playLevelCompleteSound(){}playGameOverSound(){}}class l{constructor(){this.STORAGE_KEY="fartogger_high_scores",this.scores=[],this.loadScores()}addScore(t){this.scores.push(t),this.scores.sort(((t,s)=>s-t)),this.scores.length>10&&(this.scores=this.scores.slice(0,10)),this.saveScores()}getScores(){return[...this.scores]}isHighScore(t){return this.scores.length<10||t>this.scores[this.scores.length-1]}clearScores(){this.scores=[],this.saveScores()}loadScores(){const t=localStorage.getItem(this.STORAGE_KEY);if(t)try{this.scores=JSON.parse(t)}catch(t){console.error("Error parsing stored scores:",t),this.scores=[]}}saveScores(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.scores))}catch(t){console.error("Error saving scores:",t)}}}class c{constructor(){this.cars=[],this.powerUps=[],this.fartClouds=[],this.score=0,this.level=1,this.time=60,this.isGameOver=!1,this.isGameRunning=!1,this.lastTimestamp=0,this.levels=[],this.canvas=document.getElementById("game-canvas"),this.ctx=this.canvas.getContext("2d"),this.inputHandler=new a,this.collisionDetector=new o,this.soundManager=new n,this.highScoreManager=new l}initialize(){const t=document.getElementById("start-button"),s=document.getElementById("restart-button");t&&t.addEventListener("click",(()=>this.startGame())),s&&s.addEventListener("click",(()=>this.restartGame())),this.initializeLevels(),this.displayHighScores(),this.soundManager.loadSounds()}initializeLevels(){this.levels.push(new r(1,2,1,1)),this.levels.push(new r(2,3,1.5,2)),this.levels.push(new r(3,4,2,2)),this.levels.push(new r(4,5,2.5,3)),this.levels.push(new r(5,6,3,3))}startGame(){const t=document.getElementById("start-screen");t&&(t.style.display="none"),this.score=0,this.level=1,this.time=60,this.isGameOver=!1,this.isGameRunning=!0,this.cars=[],this.powerUps=[],this.fartClouds=[],this.currentLevel=this.levels[0],this.frog=new i(this.canvas.width/2,this.canvas.height-50,this.canvas),window.requestAnimationFrame((t=>this.gameLoop(t)))}gameLoop(t){if(!this.isGameRunning)return;const s=this.lastTimestamp?(t-this.lastTimestamp)/1e3:0;this.lastTimestamp=t,this.updateTimer(s),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.update(s),this.draw(),this.checkCollisions(),this.checkLevelCompletion(),this.inputHandler.update(),this.time<=0?this.gameOver():this.isGameOver||window.requestAnimationFrame((t=>this.gameLoop(t)))}update(t){this.inputHandler.isKeyDown("ArrowLeft")&&this.frog.moveLeft(),this.inputHandler.isKeyDown("ArrowRight")&&this.frog.moveRight(),this.inputHandler.isKeyPressed(" ")&&this.frog.fart(),this.frog.update(t),this.spawnCars(t),this.spawnPowerUps(t),this.cars.forEach(((s,i)=>{s.update(t),s.isOffScreen()&&(this.cars.splice(i,1),this.increaseScore(10))})),this.powerUps.forEach(((s,i)=>{s.update(t),s.isOffScreen()&&this.powerUps.splice(i,1)})),this.fartClouds.forEach(((s,i)=>{s.update(t),s.isDissipated()&&this.fartClouds.splice(i,1)}))}draw(){this.drawBackground(),this.cars.forEach((t=>t.draw(this.ctx))),this.powerUps.forEach((t=>t.draw(this.ctx))),this.fartClouds.forEach((t=>t.draw(this.ctx))),this.frog.draw(this.ctx),this.updateUIElements()}drawBackground(){this.ctx.fillStyle="#444444",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.strokeStyle="#FFFFFF",this.ctx.setLineDash([20,15]);const t=this.canvas.height/6;for(let s=1;s<6;s++)this.ctx.beginPath(),this.ctx.moveTo(0,t*s),this.ctx.lineTo(this.canvas.width,t*s),this.ctx.stroke();this.ctx.setLineDash([])}spawnCars(t){const s=this.currentLevel.carSpawnRate*t;if(Math.random()<s){const t=this.canvas.height/6,s=Math.floor(5*Math.random())+1,i=s*t-t/2,h=s%2==0,r=h?-50:this.canvas.width+50,a=(h?1:-1)*(100*this.currentLevel.carSpeed*(.8+.4*Math.random())),o=new e(r,i,a,`car${Math.floor(3*Math.random())+1}`);this.cars.push(o)}}spawnPowerUps(s){const i=.01*s*this.currentLevel.powerUpRate;if(Math.random()<i&&this.powerUps.length<3){const s=Math.random()*(this.canvas.width-40)+20,i=Math.random()*(this.canvas.height-100)+50,e=[t.SHORT_FART,t.LONG_FART,t.CIRCLE_FART,t.SUPER_FART,t.MEGA_FART,t.ULTRA_FART],r=e[Math.floor(Math.random()*e.length)],a=new h(s,i,r);this.powerUps.push(a)}}checkCollisions(){for(const t of this.cars)if(this.collisionDetector.checkCollision(this.frog,t))return this.frog.hit(),void this.gameOver();for(let t=this.powerUps.length-1;t>=0;t--)if(this.collisionDetector.checkCollision(this.frog,this.powerUps[t])){const s=this.powerUps[t];this.frog.collectPowerUp(s.getFartType()),this.increaseScore(50),this.addTime(5),this.powerUps.splice(t,1)}for(const t of this.fartClouds)for(let s=this.cars.length-1;s>=0;s--)this.collisionDetector.checkCollision(t,this.cars[s])&&(this.cars[s].slowDown(),this.increaseScore(15))}checkLevelCompletion(){this.frog.getY()<=30&&this.levelComplete()}levelComplete(){this.level++;const t=100*this.level;this.increaseScore(t),this.addTime(10);const s=Math.min(this.level-1,this.levels.length-1);this.currentLevel=this.levels[s],this.frog.reset(this.canvas.width/2,this.canvas.height-50),document.getElementById("level").innerText=`Level: ${this.level}`}increaseScore(t){this.score+=t,document.getElementById("score").innerText=`Score: ${this.score}`}updateTimer(t){this.time-=t,this.time<0&&(this.time=0),document.getElementById("time").innerText=`Time: ${Math.ceil(this.time)}`}addTime(t){this.time+=t,document.getElementById("time").innerText=`Time: ${Math.ceil(this.time)}`}updateUIElements(){document.getElementById("score").innerText=`Score: ${this.score}`,document.getElementById("time").innerText=`Time: ${Math.ceil(this.time)}`,document.getElementById("level").innerText=`Level: ${this.level}`}gameOver(){this.isGameOver=!0,this.isGameRunning=!1;const t=document.getElementById("game-over-screen");t&&(t.style.display="flex");const s=document.getElementById("final-score");s&&(s.innerText=`Final Score: ${this.score}`),this.highScoreManager.addScore(this.score),this.displayHighScores()}restartGame(){const t=document.getElementById("game-over-screen");t&&(t.style.display="none"),this.startGame()}displayHighScores(){const t=this.highScoreManager.getScores(),s=document.getElementById("scores-list");s&&(s.innerHTML="",t.slice(0,5).forEach(((t,i)=>{const e=document.createElement("div");e.innerText=`${i+1}. ${t}`,s.appendChild(e)})))}}window.addEventListener("load",(()=>{(new c).initialize()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcxQyxFQ2paRnZJLE9BQU9DLGlCQUFpQixRQUFRLE1BQ2pCLElBQUlzRSxHQUNaZSxZQUFZLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJ0b2dnZXIvLi9zcmMvZ2FtZS9GYXJ0VHlwZS50cyIsIndlYnBhY2s6Ly9mYXJ0b2dnZXIvLi9zcmMvZ2FtZS9GYXJ0Q2xvdWQudHMiLCJ3ZWJwYWNrOi8vZmFydG9nZ2VyLy4vc3JjL2dhbWUvRnJvZy50cyIsIndlYnBhY2s6Ly9mYXJ0b2dnZXIvLi9zcmMvZ2FtZS9DYXIudHMiLCJ3ZWJwYWNrOi8vZmFydG9nZ2VyLy4vc3JjL2dhbWUvUG93ZXJVcC50cyIsIndlYnBhY2s6Ly9mYXJ0b2dnZXIvLi9zcmMvZ2FtZS9MZXZlbC50cyIsIndlYnBhY2s6Ly9mYXJ0b2dnZXIvLi9zcmMvdXRpbHMvSW5wdXRIYW5kbGVyLnRzIiwid2VicGFjazovL2ZhcnRvZ2dlci8uL3NyYy91dGlscy9Db2xsaXNpb25EZXRlY3Rvci50cyIsIndlYnBhY2s6Ly9mYXJ0b2dnZXIvLi9zcmMvdXRpbHMvU291bmRNYW5hZ2VyLnRzIiwid2VicGFjazovL2ZhcnRvZ2dlci8uL3NyYy91dGlscy9IaWdoU2NvcmVNYW5hZ2VyLnRzIiwid2VicGFjazovL2ZhcnRvZ2dlci8uL3NyYy9nYW1lL0dhbWUudHMiLCJ3ZWJwYWNrOi8vZmFydG9nZ2VyLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEZhcnRUeXBlIHtcbiAgU0hPUlRfRkFSVCA9ICdTSE9SVF9GQVJUJyxcbiAgTE9OR19GQVJUID0gJ0xPTkdfRkFSVCcsXG4gIENJUkNMRV9GQVJUID0gJ0NJUkNMRV9GQVJUJyxcbiAgU1VQRVJfRkFSVCA9ICdTVVBFUl9GQVJUJyxcbiAgTUVHQV9GQVJUID0gJ01FR0FfRkFSVCcsXG4gIFVMVFJBX0ZBUlQgPSAnVUxUUkFfRkFSVCdcbn1cbiIsImV4cG9ydCBjbGFzcyBGYXJ0Q2xvdWQge1xuICBwcml2YXRlIHg6IG51bWJlcjtcbiAgcHJpdmF0ZSB5OiBudW1iZXI7XG4gIHByaXZhdGUgd2lkdGg6IG51bWJlcjtcbiAgcHJpdmF0ZSBoZWlnaHQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBsaWZldGltZTogbnVtYmVyO1xuICBwcml2YXRlIG1heExpZmV0aW1lOiBudW1iZXI7XG4gIHByaXZhdGUgZGlzc2lwYXRpb25SYXRlOiBudW1iZXI7XG4gIHByaXZhdGUgY29sb3I6IHN0cmluZztcbiAgXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgbGlmZXRpbWU6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5saWZldGltZSA9IGxpZmV0aW1lO1xuICAgIHRoaXMubWF4TGlmZXRpbWUgPSBsaWZldGltZTtcbiAgICB0aGlzLmRpc3NpcGF0aW9uUmF0ZSA9IDE7IC8vIEhvdyBmYXN0IHRoZSBjbG91ZCBkaXNzaXBhdGVzXG4gICAgXG4gICAgLy8gUmFuZG9tIGdyZWVuaXNoLWJyb3duIGNvbG9yIGZvciB0aGUgZmFydCBjbG91ZFxuICAgIGNvbnN0IGdyZWVuQ29tcG9uZW50ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDEwMDtcbiAgICBjb25zdCByZWRDb21wb25lbnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MCkgKyAxMDA7XG4gICAgdGhpcy5jb2xvciA9IGByZ2JhKCR7cmVkQ29tcG9uZW50fSwgJHtncmVlbkNvbXBvbmVudH0sIDUwLCAwLjcpYDtcbiAgfVxuICBcbiAgcHVibGljIHVwZGF0ZShkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIFJlZHVjZSBsaWZldGltZVxuICAgIHRoaXMubGlmZXRpbWUgLT0gZGVsdGFUaW1lICogdGhpcy5kaXNzaXBhdGlvblJhdGU7XG4gICAgXG4gICAgLy8gTWFrZSBjbG91ZCBncm93IHNsaWdodGx5IGFzIGl0IGRpc3NpcGF0ZXNcbiAgICB0aGlzLndpZHRoICs9IGRlbHRhVGltZSAqIDU7XG4gICAgdGhpcy5oZWlnaHQgKz0gZGVsdGFUaW1lICogNTtcbiAgfVxuICBcbiAgcHVibGljIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICAvLyBDYWxjdWxhdGUgb3BhY2l0eSBiYXNlZCBvbiByZW1haW5pbmcgbGlmZXRpbWVcbiAgICBjb25zdCBvcGFjaXR5ID0gKHRoaXMubGlmZXRpbWUgLyB0aGlzLm1heExpZmV0aW1lKSAqIDAuNztcbiAgICBcbiAgICAvLyBVcGRhdGUgY29sb3Igd2l0aCBuZXcgb3BhY2l0eVxuICAgIGNvbnN0IGJhc2VDb2xvciA9IHRoaXMuY29sb3Iuc3Vic3RyaW5nKDAsIHRoaXMuY29sb3IubGFzdEluZGV4T2YoJywnKSArIDEpO1xuICAgIGNvbnN0IGNsb3VkQ29sb3IgPSBgJHtiYXNlQ29sb3J9ICR7b3BhY2l0eX0pYDtcbiAgICBcbiAgICAvLyBEcmF3IGNsb3VkIGFzIGEgc2VtaS10cmFuc3BhcmVudCBjaXJjbGVcbiAgICBjdHguZmlsbFN0eWxlID0gY2xvdWRDb2xvcjtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxuICBcbiAgcHVibGljIGlzRGlzc2lwYXRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5saWZldGltZSA8PSAwO1xuICB9XG4gIFxuICBwdWJsaWMgZ2V0WCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLng7XG4gIH1cbiAgXG4gIHB1YmxpYyBnZXRZKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueTtcbiAgfVxuICBcbiAgcHVibGljIGdldFdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGg7XG4gIH1cbiAgXG4gIHB1YmxpYyBnZXRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZhcnRUeXBlIH0gZnJvbSAnLi9GYXJ0VHlwZSc7XG5pbXBvcnQgeyBGYXJ0Q2xvdWQgfSBmcm9tICcuL0ZhcnRDbG91ZCc7XG5cbmV4cG9ydCBjbGFzcyBGcm9nIHtcbiAgcHJpdmF0ZSB4OiBudW1iZXI7XG4gIHByaXZhdGUgeTogbnVtYmVyO1xuICBwcml2YXRlIHdpZHRoOiBudW1iZXIgPSA0MDtcbiAgcHJpdmF0ZSBoZWlnaHQ6IG51bWJlciA9IDQwO1xuICBwcml2YXRlIHNwZWVkOiBudW1iZXIgPSA1O1xuICBwcml2YXRlIGZhcnRQb3dlcjogbnVtYmVyID0gMTtcbiAgcHJpdmF0ZSBjdXJyZW50RmFydFR5cGU6IEZhcnRUeXBlID0gRmFydFR5cGUuU0hPUlRfRkFSVDtcbiAgcHJpdmF0ZSBpc0FsaXZlOiBib29sZWFuID0gdHJ1ZTtcbiAgcHJpdmF0ZSBpc0ZhcnRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBmYXJ0QW5pbWF0aW9uVGltZXI6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgZmFydEFuaW1hdGlvbkR1cmF0aW9uOiBudW1iZXIgPSAwLjM7IC8vIHNlY29uZHNcbiAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIGZhcnRDbG91ZHM6IEZhcnRDbG91ZFtdID0gW107XG4gIFxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNBbGl2ZSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIEhhbmRsZSBmYXJ0IGFuaW1hdGlvblxuICAgIGlmICh0aGlzLmlzRmFydGluZykge1xuICAgICAgdGhpcy5mYXJ0QW5pbWF0aW9uVGltZXIgKz0gZGVsdGFUaW1lO1xuICAgICAgaWYgKHRoaXMuZmFydEFuaW1hdGlvblRpbWVyID49IHRoaXMuZmFydEFuaW1hdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuaXNGYXJ0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmFydEFuaW1hdGlvblRpbWVyID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIGZhcnQgY2xvdWRzXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZmFydENsb3Vkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdGhpcy5mYXJ0Q2xvdWRzW2ldLnVwZGF0ZShkZWx0YVRpbWUpO1xuICAgICAgXG4gICAgICBpZiAodGhpcy5mYXJ0Q2xvdWRzW2ldLmlzRGlzc2lwYXRlZCgpKSB7XG4gICAgICAgIHRoaXMuZmFydENsb3Vkcy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICAvLyBEcmF3IGZhcnQgY2xvdWRzIGJlaGluZCB0aGUgZnJvZ1xuICAgIHRoaXMuZmFydENsb3Vkcy5mb3JFYWNoKGNsb3VkID0+IGNsb3VkLmRyYXcoY3R4KSk7XG4gICAgXG4gICAgLy8gRHJhdyBmcm9nIGFzIGEgYmFzaWMgc2hhcGVcbiAgICBjdHguc2F2ZSgpO1xuICAgIFxuICAgIC8vIERyYXcgdGhlIGZyb2cgYm9keVxuICAgIGN0eC5maWxsU3R5bGUgPSAhdGhpcy5pc0FsaXZlID8gJyM4ODg4ODgnIDogKHRoaXMuaXNGYXJ0aW5nID8gJyM3N0NDNzcnIDogJyM1NUFBNTUnKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGggLyAyLCB0aGlzLmhlaWdodCAvIDIsIDAsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIFxuICAgIC8vIERyYXcgZXllc1xuICAgIGNvbnN0IGV5ZVJhZGl1cyA9IHRoaXMud2lkdGggLyAxMDtcbiAgICBjb25zdCBleWVPZmZzZXRYID0gdGhpcy53aWR0aCAvIDQ7XG4gICAgY29uc3QgZXllT2Zmc2V0WSA9IC10aGlzLmhlaWdodCAvIDY7XG4gICAgXG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGRkZGJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh0aGlzLnggLSBleWVPZmZzZXRYLCB0aGlzLnkgKyBleWVPZmZzZXRZLCBleWVSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguYXJjKHRoaXMueCArIGV5ZU9mZnNldFgsIHRoaXMueSArIGV5ZU9mZnNldFksIGV5ZVJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgXG4gICAgLy8gRHJhdyBwdXBpbHNcbiAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xuICAgIGNvbnN0IHB1cGlsUmFkaXVzID0gZXllUmFkaXVzIC8gMjtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh0aGlzLnggLSBleWVPZmZzZXRYLCB0aGlzLnkgKyBleWVPZmZzZXRZLCBwdXBpbFJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5hcmModGhpcy54ICsgZXllT2Zmc2V0WCwgdGhpcy55ICsgZXllT2Zmc2V0WSwgcHVwaWxSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIFxuICAgIC8vIERyYXcgYSBzbWlsZSBvciBzYWQgZmFjZSBiYXNlZCBvbiBhbGl2ZSBzdGF0dXNcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIFxuICAgIGlmICh0aGlzLmlzQWxpdmUpIHtcbiAgICAgIC8vIEhhcHB5IHNtaWxlXG4gICAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55ICsgdGhpcy5oZWlnaHQgLyA4LCB0aGlzLndpZHRoIC8gNCwgMCwgTWF0aC5QSSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNhZCBmYWNlIC8gWCBleWVzXG4gICAgICBjdHgubW92ZVRvKHRoaXMueCAtIGV5ZU9mZnNldFggLSBleWVSYWRpdXMsIHRoaXMueSArIGV5ZU9mZnNldFkgLSBleWVSYWRpdXMpO1xuICAgICAgY3R4LmxpbmVUbyh0aGlzLnggLSBleWVPZmZzZXRYICsgZXllUmFkaXVzLCB0aGlzLnkgKyBleWVPZmZzZXRZICsgZXllUmFkaXVzKTtcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy54IC0gZXllT2Zmc2V0WCArIGV5ZVJhZGl1cywgdGhpcy55ICsgZXllT2Zmc2V0WSAtIGV5ZVJhZGl1cyk7XG4gICAgICBjdHgubGluZVRvKHRoaXMueCAtIGV5ZU9mZnNldFggLSBleWVSYWRpdXMsIHRoaXMueSArIGV5ZU9mZnNldFkgKyBleWVSYWRpdXMpO1xuICAgICAgXG4gICAgICBjdHgubW92ZVRvKHRoaXMueCArIGV5ZU9mZnNldFggLSBleWVSYWRpdXMsIHRoaXMueSArIGV5ZU9mZnNldFkgLSBleWVSYWRpdXMpO1xuICAgICAgY3R4LmxpbmVUbyh0aGlzLnggKyBleWVPZmZzZXRYICsgZXllUmFkaXVzLCB0aGlzLnkgKyBleWVPZmZzZXRZICsgZXllUmFkaXVzKTtcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy54ICsgZXllT2Zmc2V0WCArIGV5ZVJhZGl1cywgdGhpcy55ICsgZXllT2Zmc2V0WSAtIGV5ZVJhZGl1cyk7XG4gICAgICBjdHgubGluZVRvKHRoaXMueCArIGV5ZU9mZnNldFggLSBleWVSYWRpdXMsIHRoaXMueSArIGV5ZU9mZnNldFkgKyBleWVSYWRpdXMpO1xuICAgICAgXG4gICAgICAvLyBTYWQgbW91dGhcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy54IC0gdGhpcy53aWR0aCAvIDQsIHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gNCk7XG4gICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh0aGlzLngsIHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gMiwgdGhpcy54ICsgdGhpcy53aWR0aCAvIDQsIHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gNCk7XG4gICAgfVxuICAgIGN0eC5zdHJva2UoKTtcbiAgICBcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIFxuICAgIC8vIERyYXcgY3VycmVudCBmYXJ0IHR5cGUgaW5kaWNhdG9yXG4gICAgdGhpcy5kcmF3RmFydFR5cGVJbmRpY2F0b3IoY3R4KTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0ZhcnRUeXBlSW5kaWNhdG9yKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzQWxpdmUpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICBbRmFydFR5cGUuU0hPUlRfRkFSVF06ICcjMzQ5OGRiJyxcbiAgICAgIFtGYXJ0VHlwZS5MT05HX0ZBUlRdOiAnIzJlY2M3MScsXG4gICAgICBbRmFydFR5cGUuQ0lSQ0xFX0ZBUlRdOiAnI2YxYzQwZicsXG4gICAgICBbRmFydFR5cGUuU1VQRVJfRkFSVF06ICcjZTc0YzNjJyxcbiAgICAgIFtGYXJ0VHlwZS5NRUdBX0ZBUlRdOiAnIzliNTliNicsXG4gICAgICBbRmFydFR5cGUuVUxUUkFfRkFSVF06ICcjMWFiYzljJ1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgY29sb3IgPSBjb2xvcnNbdGhpcy5jdXJyZW50RmFydFR5cGVdIHx8ICcjMzQ5OGRiJztcbiAgICBcbiAgICAvLyBEcmF3IGluZGljYXRvciBjaXJjbGUgYWJvdmUgZnJvZ1xuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh0aGlzLngsIHRoaXMueSAtIHRoaXMuaGVpZ2h0IC8gMiAtIDEwLCA1LCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxuXG4gIHB1YmxpYyBtb3ZlTGVmdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNBbGl2ZSkgcmV0dXJuO1xuICAgIFxuICAgIHRoaXMueCAtPSB0aGlzLnNwZWVkO1xuICAgIFxuICAgIC8vIEtlZXAgdGhlIGZyb2cgd2l0aGluIHRoZSBjYW52YXMgYm91bmRzXG4gICAgaWYgKHRoaXMueCA8IHRoaXMud2lkdGggLyAyKSB7XG4gICAgICB0aGlzLnggPSB0aGlzLndpZHRoIC8gMjtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbW92ZVJpZ2h0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0FsaXZlKSByZXR1cm47XG4gICAgXG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQ7XG4gICAgXG4gICAgLy8gS2VlcCB0aGUgZnJvZyB3aXRoaW4gdGhlIGNhbnZhcyBib3VuZHNcbiAgICBpZiAodGhpcy54ID4gdGhpcy5jYW52YXMud2lkdGggLSB0aGlzLndpZHRoIC8gMikge1xuICAgICAgdGhpcy54ID0gdGhpcy5jYW52YXMud2lkdGggLSB0aGlzLndpZHRoIC8gMjtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZmFydCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNBbGl2ZSB8fCB0aGlzLmlzRmFydGluZykgcmV0dXJuO1xuICAgIFxuICAgIHRoaXMuaXNGYXJ0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmZhcnRBbmltYXRpb25UaW1lciA9IDA7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgZmFydCBjbG91ZCBiYXNlZCBvbiB0aGUgY3VycmVudCBmYXJ0IHR5cGVcbiAgICBzd2l0Y2ggKHRoaXMuY3VycmVudEZhcnRUeXBlKSB7XG4gICAgICBjYXNlIEZhcnRUeXBlLlNIT1JUX0ZBUlQ6XG4gICAgICAgIHRoaXMuY3JlYXRlU2hvcnRGYXJ0KCk7XG4gICAgICAgIHRoaXMubW92ZUZvcndhcmQoMSAqIHRoaXMuZmFydFBvd2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSBGYXJ0VHlwZS5MT05HX0ZBUlQ6XG4gICAgICAgIHRoaXMuY3JlYXRlTG9uZ0ZhcnQoKTtcbiAgICAgICAgdGhpcy5tb3ZlRm9yd2FyZCgyICogdGhpcy5mYXJ0UG93ZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlIEZhcnRUeXBlLkNJUkNMRV9GQVJUOlxuICAgICAgICB0aGlzLmNyZWF0ZUNpcmNsZUZhcnQoKTtcbiAgICAgICAgdGhpcy5tb3ZlRm9yd2FyZCgxLjUgKiB0aGlzLmZhcnRQb3dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgRmFydFR5cGUuU1VQRVJfRkFSVDpcbiAgICAgICAgdGhpcy5jcmVhdGVTdXBlckZhcnQoKTtcbiAgICAgICAgdGhpcy5tb3ZlRm9yd2FyZCgyLjUgKiB0aGlzLmZhcnRQb3dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgRmFydFR5cGUuTUVHQV9GQVJUOlxuICAgICAgICB0aGlzLmNyZWF0ZU1lZ2FGYXJ0KCk7XG4gICAgICAgIHRoaXMubW92ZUZvcndhcmQoMyAqIHRoaXMuZmFydFBvd2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSBGYXJ0VHlwZS5VTFRSQV9GQVJUOlxuICAgICAgICB0aGlzLmNyZWF0ZVVsdHJhRmFydCgpO1xuICAgICAgICB0aGlzLm1vdmVGb3J3YXJkKDQgKiB0aGlzLmZhcnRQb3dlcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbW92ZUZvcndhcmQoYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnkgLT0gYW1vdW50ICogMjA7IC8vIE1vdmUgZnJvZyB1cHdhcmQgKGZvcndhcmQpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVNob3J0RmFydCgpOiB2b2lkIHtcbiAgICBjb25zdCBjbG91ZCA9IG5ldyBGYXJ0Q2xvdWQodGhpcy54LCB0aGlzLnkgKyB0aGlzLmhlaWdodCAvIDIsIDIwLCAyMCwgMS41KTtcbiAgICB0aGlzLmZhcnRDbG91ZHMucHVzaChjbG91ZCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUxvbmdGYXJ0KCk6IHZvaWQge1xuICAgIC8vIENyZWF0ZSBhIHNlcmllcyBvZiBjbG91ZHMgaW4gYSBzdHJhaWdodCBsaW5lIGJlaGluZCB0aGUgZnJvZ1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBjb25zdCBjbG91ZCA9IG5ldyBGYXJ0Q2xvdWQoXG4gICAgICAgIHRoaXMueCxcbiAgICAgICAgdGhpcy55ICsgdGhpcy5oZWlnaHQgLyAyICsgaSAqIDE1LFxuICAgICAgICAyMCAtIGkgKiAyLFxuICAgICAgICAyMCAtIGkgKiAyLFxuICAgICAgICAyIC0gaSAqIDAuM1xuICAgICAgKTtcbiAgICAgIHRoaXMuZmFydENsb3Vkcy5wdXNoKGNsb3VkKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNpcmNsZUZhcnQoKTogdm9pZCB7XG4gICAgLy8gQ3JlYXRlIGEgY2lyY2xlIG9mIGZhcnQgY2xvdWRzIGFyb3VuZCB0aGUgZnJvZ1xuICAgIGNvbnN0IG51bUNsb3VkcyA9IDg7XG4gICAgY29uc3QgcmFkaXVzID0gMzA7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1DbG91ZHM7IGkrKykge1xuICAgICAgY29uc3QgYW5nbGUgPSAoaSAvIG51bUNsb3VkcykgKiBNYXRoLlBJICogMjtcbiAgICAgIGNvbnN0IGNsb3VkWCA9IHRoaXMueCArIE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cztcbiAgICAgIGNvbnN0IGNsb3VkWSA9IHRoaXMueSArIE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cztcbiAgICAgIFxuICAgICAgY29uc3QgY2xvdWQgPSBuZXcgRmFydENsb3VkKGNsb3VkWCwgY2xvdWRZLCAxNSwgMTUsIDIpO1xuICAgICAgdGhpcy5mYXJ0Q2xvdWRzLnB1c2goY2xvdWQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlU3VwZXJGYXJ0KCk6IHZvaWQge1xuICAgIC8vIENyZWF0ZSBhIG1vcmUgcG93ZXJmdWwgc3RyYWlnaHQgbGluZSBmYXJ0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGNvbnN0IGNsb3VkID0gbmV3IEZhcnRDbG91ZChcbiAgICAgICAgdGhpcy54LFxuICAgICAgICB0aGlzLnkgKyB0aGlzLmhlaWdodCAvIDIgKyBpICogMTUsXG4gICAgICAgIDI1IC0gaSAqIDIsXG4gICAgICAgIDI1IC0gaSAqIDIsXG4gICAgICAgIDIuNSAtIGkgKiAwLjJcbiAgICAgICk7XG4gICAgICB0aGlzLmZhcnRDbG91ZHMucHVzaChjbG91ZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVNZWdhRmFydCgpOiB2b2lkIHtcbiAgICAvLyBDcmVhdGUgYSBsYXJnZSBleHBsb3Npb24gb2YgZmFydCBjbG91ZHNcbiAgICBjb25zdCBudW1DbG91ZHMgPSAxMjtcbiAgICBjb25zdCByYWRpdXMgPSA0MDtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNsb3VkczsgaSsrKSB7XG4gICAgICBjb25zdCBhbmdsZSA9IChpIC8gbnVtQ2xvdWRzKSAqIE1hdGguUEkgKiAyO1xuICAgICAgY29uc3QgY2xvdWRYID0gdGhpcy54ICsgTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xuICAgICAgY29uc3QgY2xvdWRZID0gdGhpcy55ICsgTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzO1xuICAgICAgXG4gICAgICBjb25zdCBjbG91ZCA9IG5ldyBGYXJ0Q2xvdWQoY2xvdWRYLCBjbG91ZFksIDIwLCAyMCwgMyk7XG4gICAgICB0aGlzLmZhcnRDbG91ZHMucHVzaChjbG91ZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVVbHRyYUZhcnQoKTogdm9pZCB7XG4gICAgLy8gQ3JlYXRlIGFuIHVsdHJhLXBvd2VyZnVsIGZhcnQgd2l0aCBtdWx0aXBsZSBleHBhbmRpbmcgcmluZ3NcbiAgICBmb3IgKGxldCByaW5nID0gMTsgcmluZyA8PSAzOyByaW5nKyspIHtcbiAgICAgIGNvbnN0IG51bUNsb3VkcyA9IDg7XG4gICAgICBjb25zdCByYWRpdXMgPSAyMCAqIHJpbmc7XG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ2xvdWRzOyBpKyspIHtcbiAgICAgICAgY29uc3QgYW5nbGUgPSAoaSAvIG51bUNsb3VkcykgKiBNYXRoLlBJICogMjtcbiAgICAgICAgY29uc3QgY2xvdWRYID0gdGhpcy54ICsgTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xuICAgICAgICBjb25zdCBjbG91ZFkgPSB0aGlzLnkgKyBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXM7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjbG91ZCA9IG5ldyBGYXJ0Q2xvdWQoY2xvdWRYLCBjbG91ZFksIDI1IC0gcmluZyAqIDMsIDI1IC0gcmluZyAqIDMsIDQgLSByaW5nICogMC41KTtcbiAgICAgICAgdGhpcy5mYXJ0Q2xvdWRzLnB1c2goY2xvdWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoaXQoKTogdm9pZCB7XG4gICAgdGhpcy5pc0FsaXZlID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgY29sbGVjdFBvd2VyVXAoZmFydFR5cGU6IEZhcnRUeXBlKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50RmFydFR5cGUgPSBmYXJ0VHlwZTtcbiAgICBcbiAgICAvLyBJbmNyZWFzZSBmYXJ0IHBvd2VyIHRlbXBvcmFyaWx5XG4gICAgdGhpcy5mYXJ0UG93ZXIgPSAxLjU7XG4gICAgXG4gICAgLy8gUmVzZXQgZmFydCBwb3dlciBhZnRlciBhIGZldyBzZWNvbmRzXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmZhcnRQb3dlciA9IDE7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5pc0FsaXZlID0gdHJ1ZTtcbiAgICB0aGlzLmlzRmFydGluZyA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudEZhcnRUeXBlID0gRmFydFR5cGUuU0hPUlRfRkFSVDtcbiAgICB0aGlzLmZhcnRQb3dlciA9IDE7XG4gICAgdGhpcy5mYXJ0Q2xvdWRzID0gW107XG4gIH1cblxuICBwdWJsaWMgZ2V0WCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLng7XG4gIH1cblxuICBwdWJsaWMgZ2V0WSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnk7XG4gIH1cblxuICBwdWJsaWMgZ2V0V2lkdGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q3VycmVudEZhcnRUeXBlKCk6IEZhcnRUeXBlIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50RmFydFR5cGU7XG4gIH1cblxuICBwdWJsaWMgZ2V0RmFydENsb3VkcygpOiBGYXJ0Q2xvdWRbXSB7XG4gICAgcmV0dXJuIHRoaXMuZmFydENsb3VkcztcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENhciB7XG4gIHByaXZhdGUgeDogbnVtYmVyO1xuICBwcml2YXRlIHk6IG51bWJlcjtcbiAgcHJpdmF0ZSB3aWR0aDogbnVtYmVyID0gODA7XG4gIHByaXZhdGUgaGVpZ2h0OiBudW1iZXIgPSA0MDtcbiAgcHJpdmF0ZSBzcGVlZDogbnVtYmVyO1xuICBwcml2YXRlIG9yaWdpbmFsU3BlZWQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBjYXJDb2xvcjogc3RyaW5nO1xuICBwcml2YXRlIGlzU2xvd2VkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgc2xvd1RpbWVyOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHNsb3dEdXJhdGlvbjogbnVtYmVyID0gMzsgLy8gc2Vjb25kc1xuICBcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIHNwZWVkOiBudW1iZXIsIGNhclR5cGU6IHN0cmluZykge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5vcmlnaW5hbFNwZWVkID0gc3BlZWQ7XG4gICAgXG4gICAgLy8gQXNzaWduIGEgY29sb3IgYmFzZWQgb24gY2FyIHR5cGVcbiAgICBzd2l0Y2goY2FyVHlwZSkge1xuICAgICAgY2FzZSAnY2FyMSc6XG4gICAgICAgIHRoaXMuY2FyQ29sb3IgPSAnI2ZmMDAwMCc7IC8vIFJlZFxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NhcjInOlxuICAgICAgICB0aGlzLmNhckNvbG9yID0gJyMwMDAwZmYnOyAvLyBCbHVlXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2FyMyc6XG4gICAgICAgIHRoaXMuY2FyQ29sb3IgPSAnI2ZmY2MwMCc7IC8vIFllbGxvd1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuY2FyQ29sb3IgPSAnIzg4ODg4OCc7IC8vIEdyYXlcbiAgICB9XG4gIH1cbiAgXG4gIHB1YmxpYyB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBNb3ZlIGNhciBiYXNlZCBvbiBpdHMgc3BlZWRcbiAgICB0aGlzLnggKz0gdGhpcy5zcGVlZCAqIGRlbHRhVGltZTtcbiAgICBcbiAgICAvLyBIYW5kbGUgc2xvdyBlZmZlY3QgdGltZXJcbiAgICBpZiAodGhpcy5pc1Nsb3dlZCkge1xuICAgICAgdGhpcy5zbG93VGltZXIgLT0gZGVsdGFUaW1lO1xuICAgICAgXG4gICAgICBpZiAodGhpcy5zbG93VGltZXIgPD0gMCkge1xuICAgICAgICB0aGlzLmlzU2xvd2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLm9yaWdpbmFsU3BlZWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBwdWJsaWMgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIC8vIERldGVybWluZSBpZiB0aGUgY2FyIGlzIGZhY2luZyBsZWZ0IG9yIHJpZ2h0XG4gICAgY29uc3QgaXNSaWdodEZhY2luZyA9IHRoaXMuc3BlZWQgPiAwO1xuICAgIFxuICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgY29udGV4dCBzdGF0ZVxuICAgIGN0eC5zYXZlKCk7XG4gICAgXG4gICAgLy8gRHJhdyBjYXIgYm9keVxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNhckNvbG9yO1xuICAgIGN0eC5maWxsUmVjdCh0aGlzLnggLSB0aGlzLndpZHRoIC8gMiwgdGhpcy55IC0gdGhpcy5oZWlnaHQgLyAyLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgXG4gICAgLy8gRHJhdyBjYXIgZGV0YWlscyAod2luZG93cywgbGlnaHRzLCBldGMuKVxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzIyMjIyMic7IC8vIERhcmtlciBjb2xvciBmb3IgZGV0YWlsc1xuICAgIFxuICAgIC8vIERyYXcgd2luZG93c1xuICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gdGhpcy53aWR0aCAqIDAuNTtcbiAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB0aGlzLmhlaWdodCAqIDAuNTtcbiAgICBjb25zdCB3aW5kb3dYID0gdGhpcy54IC0gd2luZG93V2lkdGggLyAyO1xuICAgIGNvbnN0IHdpbmRvd1kgPSB0aGlzLnkgLSB3aW5kb3dIZWlnaHQgLyAyO1xuICAgIGN0eC5maWxsUmVjdCh3aW5kb3dYLCB3aW5kb3dZLCB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0KTtcbiAgICBcbiAgICAvLyBEcmF3IHdoZWVsc1xuICAgIGNvbnN0IHdoZWVsUmFkaXVzID0gdGhpcy5oZWlnaHQgKiAwLjI1O1xuICAgIGNvbnN0IHdoZWVsT2Zmc2V0WCA9IHRoaXMud2lkdGggKiAwLjM7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh0aGlzLnggLSB3aGVlbE9mZnNldFgsIHRoaXMueSArIHRoaXMuaGVpZ2h0ICogMC4zLCB3aGVlbFJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGN0eC5hcmModGhpcy54ICsgd2hlZWxPZmZzZXRYLCB0aGlzLnkgKyB0aGlzLmhlaWdodCAqIDAuMywgd2hlZWxSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIFxuICAgIC8vIERyYXcgaGVhZGxpZ2h0cy90YWlsbGlnaHRzXG4gICAgY29uc3QgbGlnaHRSYWRpdXMgPSB0aGlzLmhlaWdodCAqIDAuMTtcbiAgICBjb25zdCBsaWdodE9mZnNldFggPSB0aGlzLndpZHRoICogMC40O1xuICAgIGNvbnN0IGxpZ2h0T2Zmc2V0WSA9IHRoaXMuaGVpZ2h0ICogMC4xO1xuICAgIFxuICAgIGlmIChpc1JpZ2h0RmFjaW5nKSB7XG4gICAgICAvLyBIZWFkbGlnaHRzICh3aGl0ZSkgb24gcmlnaHQsIHRhaWxsaWdodHMgKHJlZCkgb24gbGVmdFxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJztcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmModGhpcy54ICsgbGlnaHRPZmZzZXRYLCB0aGlzLnkgLSBsaWdodE9mZnNldFksIGxpZ2h0UmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNmZjAwMDAnO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyh0aGlzLnggLSBsaWdodE9mZnNldFgsIHRoaXMueSAtIGxpZ2h0T2Zmc2V0WSwgbGlnaHRSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEhlYWRsaWdodHMgKHdoaXRlKSBvbiBsZWZ0LCB0YWlsbGlnaHRzIChyZWQpIG9uIHJpZ2h0XG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmZmZmYnO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyh0aGlzLnggLSBsaWdodE9mZnNldFgsIHRoaXMueSAtIGxpZ2h0T2Zmc2V0WSwgbGlnaHRSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmMDAwMCc7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHRoaXMueCArIGxpZ2h0T2Zmc2V0WCwgdGhpcy55IC0gbGlnaHRPZmZzZXRZLCBsaWdodFJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVzdG9yZSB0aGUgY29udGV4dCBzdGF0ZVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgXG4gICAgLy8gRHJhdyBzbG93IGVmZmVjdCBpbmRpY2F0b3IgaWYgY2FyIGlzIHNsb3dlZFxuICAgIGlmICh0aGlzLmlzU2xvd2VkKSB7XG4gICAgICB0aGlzLmRyYXdTbG93RWZmZWN0KGN0eCk7XG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIGRyYXdTbG93RWZmZWN0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgLy8gRHJhdyBhIGdyZWVuIGhhemUgYXJvdW5kIHRoZSBjYXJcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMTAwLCAyMDAsIDUwLCAwLjMpJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGggKiAwLjcsIHRoaXMuaGVpZ2h0ICogMC43LCAwLCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgfVxuICBcbiAgcHVibGljIHNsb3dEb3duKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1Nsb3dlZCkge1xuICAgICAgdGhpcy5pc1Nsb3dlZCA9IHRydWU7XG4gICAgICB0aGlzLnNwZWVkID0gdGhpcy5vcmlnaW5hbFNwZWVkICogMC40OyAvLyBTbG93IHRvIDQwJSBvZiBvcmlnaW5hbCBzcGVlZFxuICAgICAgdGhpcy5zbG93VGltZXIgPSB0aGlzLnNsb3dEdXJhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRXh0ZW5kIHNsb3cgZHVyYXRpb24gaWYgYWxyZWFkeSBzbG93ZWRcbiAgICAgIHRoaXMuc2xvd1RpbWVyID0gdGhpcy5zbG93RHVyYXRpb247XG4gICAgfVxuICB9XG4gIFxuICBwdWJsaWMgaXNPZmZTY3JlZW4oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYnVmZmVyID0gMTAwOyAvLyBFeHRyYSBkaXN0YW5jZSB0byB0cmF2ZWwgYmVmb3JlIGJlaW5nIHJlbW92ZWRcbiAgICBcbiAgICBpZiAodGhpcy5zcGVlZCA+IDApIHtcbiAgICAgIC8vIE1vdmluZyByaWdodFxuICAgICAgcmV0dXJuIHRoaXMueCAtIHRoaXMud2lkdGggLyAyID4gODAwICsgYnVmZmVyOyAvLyBBc3N1bWluZyBjYW52YXMgd2lkdGggaXMgODAwXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1vdmluZyBsZWZ0XG4gICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aCAvIDIgPCAtYnVmZmVyO1xuICAgIH1cbiAgfVxuICBcbiAgcHVibGljIGdldFgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy54O1xuICB9XG4gIFxuICBwdWJsaWMgZ2V0WSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnk7XG4gIH1cbiAgXG4gIHB1YmxpYyBnZXRXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLndpZHRoO1xuICB9XG4gIFxuICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICB9XG59XG4iLCJpbXBvcnQgeyBGYXJ0VHlwZSB9IGZyb20gJy4vRmFydFR5cGUnO1xuXG5leHBvcnQgY2xhc3MgUG93ZXJVcCB7XG4gIHByaXZhdGUgeDogbnVtYmVyO1xuICBwcml2YXRlIHk6IG51bWJlcjtcbiAgcHJpdmF0ZSB3aWR0aDogbnVtYmVyID0gMzA7XG4gIHByaXZhdGUgaGVpZ2h0OiBudW1iZXIgPSAzMDtcbiAgcHJpdmF0ZSBmYXJ0VHlwZTogRmFydFR5cGU7XG4gIHByaXZhdGUgcHVsc2VTaXplOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHB1bHNlRGlyZWN0aW9uOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIHB1bHNlU3BlZWQ6IG51bWJlciA9IDI7XG4gIHByaXZhdGUgY29sb3JzOiBSZWNvcmQ8RmFydFR5cGUsIHN0cmluZz4gPSB7XG4gICAgW0ZhcnRUeXBlLlNIT1JUX0ZBUlRdOiAnIzM0OThkYicsXG4gICAgW0ZhcnRUeXBlLkxPTkdfRkFSVF06ICcjMmVjYzcxJyxcbiAgICBbRmFydFR5cGUuQ0lSQ0xFX0ZBUlRdOiAnI2YxYzQwZicsXG4gICAgW0ZhcnRUeXBlLlNVUEVSX0ZBUlRdOiAnI2U3NGMzYycsXG4gICAgW0ZhcnRUeXBlLk1FR0FfRkFSVF06ICcjOWI1OWI2JyxcbiAgICBbRmFydFR5cGUuVUxUUkFfRkFSVF06ICcjMWFiYzljJ1xuICB9O1xuICBcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGZhcnRUeXBlOiBGYXJ0VHlwZSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmZhcnRUeXBlID0gZmFydFR5cGU7XG4gIH1cbiAgXG4gIHB1YmxpYyB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBDcmVhdGUgYSBwdWxzaW5nIGVmZmVjdFxuICAgIHRoaXMucHVsc2VTaXplICs9IHRoaXMucHVsc2VEaXJlY3Rpb24gKiB0aGlzLnB1bHNlU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgXG4gICAgaWYgKHRoaXMucHVsc2VTaXplID4gNSkge1xuICAgICAgdGhpcy5wdWxzZURpcmVjdGlvbiA9IC0xO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wdWxzZVNpemUgPCAwKSB7XG4gICAgICB0aGlzLnB1bHNlRGlyZWN0aW9uID0gMTtcbiAgICB9XG4gIH1cbiAgXG4gIHB1YmxpYyBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgY29uc3QgY29sb3IgPSB0aGlzLmNvbG9yc1t0aGlzLmZhcnRUeXBlXTtcbiAgICBcbiAgICAvLyBEcmF3IHBvd2VyLXVwIGFzIGEgY29sb3JlZCBjaXJjbGUgd2l0aCBhIHB1bHNpbmcgZWZmZWN0XG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55LCAodGhpcy53aWR0aCAvIDIpICsgdGhpcy5wdWxzZVNpemUsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIFxuICAgIC8vIERyYXcgaW5uZXIgY2lyY2xlXG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmModGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGggLyA0LCAwLCBNYXRoLlBJICogMik7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBcbiAgICAvLyBEcmF3IHRleHQgaW5kaWNhdG9yIGZvciBmYXJ0IHR5cGVcbiAgICBsZXQgbGFiZWw6IHN0cmluZztcbiAgICBzd2l0Y2ggKHRoaXMuZmFydFR5cGUpIHtcbiAgICAgIGNhc2UgRmFydFR5cGUuU0hPUlRfRkFSVDpcbiAgICAgICAgbGFiZWwgPSAnUyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGYXJ0VHlwZS5MT05HX0ZBUlQ6XG4gICAgICAgIGxhYmVsID0gJ0wnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRmFydFR5cGUuQ0lSQ0xFX0ZBUlQ6XG4gICAgICAgIGxhYmVsID0gJ0MnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRmFydFR5cGUuU1VQRVJfRkFSVDpcbiAgICAgICAgbGFiZWwgPSAnU1AnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRmFydFR5cGUuTUVHQV9GQVJUOlxuICAgICAgICBsYWJlbCA9ICdNJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZhcnRUeXBlLlVMVFJBX0ZBUlQ6XG4gICAgICAgIGxhYmVsID0gJ1UnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgY3R4LmZvbnQgPSAnMTBweCBBcmlhbCc7XG4gICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBjdHguZmlsbFRleHQobGFiZWwsIHRoaXMueCwgdGhpcy55KTtcbiAgfVxuICBcbiAgcHVibGljIGlzT2ZmU2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnkgPiA2MDAgKyB0aGlzLmhlaWdodDsgLy8gQXNzdW1pbmcgY2FudmFzIGhlaWdodCBpcyA2MDBcbiAgfVxuICBcbiAgcHVibGljIGdldEZhcnRUeXBlKCk6IEZhcnRUeXBlIHtcbiAgICByZXR1cm4gdGhpcy5mYXJ0VHlwZTtcbiAgfVxuICBcbiAgcHVibGljIGdldFgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy54O1xuICB9XG4gIFxuICBwdWJsaWMgZ2V0WSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnk7XG4gIH1cbiAgXG4gIHB1YmxpYyBnZXRXaWR0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLndpZHRoO1xuICB9XG4gIFxuICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgTGV2ZWwge1xuICBwdWJsaWMgcmVhZG9ubHkgbGV2ZWw6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IGNhclNwYXduUmF0ZTogbnVtYmVyO1xuICBwdWJsaWMgcmVhZG9ubHkgY2FyU3BlZWQ6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IHBvd2VyVXBSYXRlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IobGV2ZWw6IG51bWJlciwgY2FyU3Bhd25SYXRlOiBudW1iZXIsIGNhclNwZWVkOiBudW1iZXIsIHBvd2VyVXBSYXRlOiBudW1iZXIpIHtcbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgdGhpcy5jYXJTcGF3blJhdGUgPSBjYXJTcGF3blJhdGU7XG4gICAgdGhpcy5jYXJTcGVlZCA9IGNhclNwZWVkO1xuICAgIHRoaXMucG93ZXJVcFJhdGUgPSBwb3dlclVwUmF0ZTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIElucHV0SGFuZGxlciB7XG4gIHByaXZhdGUga2V5czogTWFwPHN0cmluZywgYm9vbGVhbj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUga2V5c1ByZXNzZWRUaGlzRnJhbWU6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIG1vdXNlWDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtb3VzZVk6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VDbGlja2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3Iga2V5Ym9hcmRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5rZXlzLnNldChldmVudC5rZXksIHRydWUpO1xuICAgICAgdGhpcy5rZXlzUHJlc3NlZFRoaXNGcmFtZS5hZGQoZXZlbnQua2V5KTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5rZXlzLnNldChldmVudC5rZXksIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIG1vdXNlXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZVggPSBldmVudC5jbGllbnRYO1xuICAgICAgdGhpcy5tb3VzZVkgPSBldmVudC5jbGllbnRZO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgIHRoaXMubW91c2VDbGlja2VkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT4ge1xuICAgICAgdGhpcy5tb3VzZUNsaWNrZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBpc0tleURvd24oa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5rZXlzLmdldChrZXkpID09PSB0cnVlO1xuICB9XG5cbiAgcHVibGljIGlzS2V5UHJlc3NlZChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlzUHJlc3NlZCA9IHRoaXMua2V5c1ByZXNzZWRUaGlzRnJhbWUuaGFzKGtleSk7XG4gICAgLy8gUmVtb3ZlIHRoZSBrZXkgZnJvbSB0aGUgc2V0IG9uY2UgaXQncyBiZWVuIGNoZWNrZWRcbiAgICAvLyB0byBlbnN1cmUgaXQncyBvbmx5IHJlcG9ydGVkIGFzIHByZXNzZWQgb25jZVxuICAgIGlmIChpc1ByZXNzZWQpIHtcbiAgICAgIHRoaXMua2V5c1ByZXNzZWRUaGlzRnJhbWUuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBpc1ByZXNzZWQ7XG4gIH1cblxuICBwdWJsaWMgaXNNb3VzZUNsaWNrZWQoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgd2FzQ2xpY2tlZCA9IHRoaXMubW91c2VDbGlja2VkO1xuICAgIC8vIFJlc2V0IG1vdXNlIGNsaWNrZWQgc3RhdGUgdG8gZW5zdXJlIGl0J3Mgb25seSByZXBvcnRlZCBvbmNlXG4gICAgdGhpcy5tb3VzZUNsaWNrZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gd2FzQ2xpY2tlZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRNb3VzZVgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5tb3VzZVg7XG4gIH1cblxuICBwdWJsaWMgZ2V0TW91c2VZKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VZO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBDbGVhciBrZXlzIHByZXNzZWQgdGhpcyBmcmFtZVxuICAgIHRoaXMua2V5c1ByZXNzZWRUaGlzRnJhbWUuY2xlYXIoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENvbGxpc2lvbkRldGVjdG9yIHtcbiAgLyoqXG4gICAqIERldGVjdHMgY29sbGlzaW9uIGJldHdlZW4gdHdvIGdhbWUgb2JqZWN0cyB1c2luZyBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94IG1ldGhvZFxuICAgKiBCb3RoIG9iamVjdHMgbXVzdCBoYXZlIGdldFgoKSwgZ2V0WSgpLCBnZXRXaWR0aCgpLCBhbmQgZ2V0SGVpZ2h0KCkgbWV0aG9kc1xuICAgKi9cbiAgcHVibGljIGNoZWNrQ29sbGlzaW9uKFxuICAgIG9iajE6IHsgZ2V0WCgpOiBudW1iZXI7IGdldFkoKTogbnVtYmVyOyBnZXRXaWR0aCgpOiBudW1iZXI7IGdldEhlaWdodCgpOiBudW1iZXIgfSxcbiAgICBvYmoyOiB7IGdldFgoKTogbnVtYmVyOyBnZXRZKCk6IG51bWJlcjsgZ2V0V2lkdGgoKTogbnVtYmVyOyBnZXRIZWlnaHQoKTogbnVtYmVyIH1cbiAgKTogYm9vbGVhbiB7XG4gICAgLy8gR2V0IHBvc2l0aW9ucyBhbmQgZGltZW5zaW9ucyBmb3IgYm90aCBvYmplY3RzXG4gICAgY29uc3Qgb2JqMVggPSBvYmoxLmdldFgoKTtcbiAgICBjb25zdCBvYmoxWSA9IG9iajEuZ2V0WSgpO1xuICAgIGNvbnN0IG9iajFXaWR0aCA9IG9iajEuZ2V0V2lkdGgoKTtcbiAgICBjb25zdCBvYmoxSGVpZ2h0ID0gb2JqMS5nZXRIZWlnaHQoKTtcbiAgICBcbiAgICBjb25zdCBvYmoyWCA9IG9iajIuZ2V0WCgpO1xuICAgIGNvbnN0IG9iajJZID0gb2JqMi5nZXRZKCk7XG4gICAgY29uc3Qgb2JqMldpZHRoID0gb2JqMi5nZXRXaWR0aCgpO1xuICAgIGNvbnN0IG9iajJIZWlnaHQgPSBvYmoyLmdldEhlaWdodCgpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBib3VuZHMgZm9yIGJvdGggb2JqZWN0c1xuICAgIGNvbnN0IG9iajFMZWZ0ID0gb2JqMVggLSBvYmoxV2lkdGggLyAyO1xuICAgIGNvbnN0IG9iajFSaWdodCA9IG9iajFYICsgb2JqMVdpZHRoIC8gMjtcbiAgICBjb25zdCBvYmoxVG9wID0gb2JqMVkgLSBvYmoxSGVpZ2h0IC8gMjtcbiAgICBjb25zdCBvYmoxQm90dG9tID0gb2JqMVkgKyBvYmoxSGVpZ2h0IC8gMjtcbiAgICBcbiAgICBjb25zdCBvYmoyTGVmdCA9IG9iajJYIC0gb2JqMldpZHRoIC8gMjtcbiAgICBjb25zdCBvYmoyUmlnaHQgPSBvYmoyWCArIG9iajJXaWR0aCAvIDI7XG4gICAgY29uc3Qgb2JqMlRvcCA9IG9iajJZIC0gb2JqMkhlaWdodCAvIDI7XG4gICAgY29uc3Qgb2JqMkJvdHRvbSA9IG9iajJZICsgb2JqMkhlaWdodCAvIDI7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIG92ZXJsYXAgb24gYm90aCBheGVzXG4gICAgcmV0dXJuIChcbiAgICAgIG9iajFSaWdodCA+IG9iajJMZWZ0ICYmXG4gICAgICBvYmoxTGVmdCA8IG9iajJSaWdodCAmJlxuICAgICAgb2JqMUJvdHRvbSA+IG9iajJUb3AgJiZcbiAgICAgIG9iajFUb3AgPCBvYmoyQm90dG9tXG4gICAgKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSBhbiBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBpc1BvaW50SW5PYmplY3QoXG4gICAgcG9pbnRYOiBudW1iZXIsXG4gICAgcG9pbnRZOiBudW1iZXIsXG4gICAgb2JqOiB7IGdldFgoKTogbnVtYmVyOyBnZXRZKCk6IG51bWJlcjsgZ2V0V2lkdGgoKTogbnVtYmVyOyBnZXRIZWlnaHQoKTogbnVtYmVyIH1cbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgb2JqWCA9IG9iai5nZXRYKCk7XG4gICAgY29uc3Qgb2JqWSA9IG9iai5nZXRZKCk7XG4gICAgY29uc3Qgb2JqV2lkdGggPSBvYmouZ2V0V2lkdGgoKTtcbiAgICBjb25zdCBvYmpIZWlnaHQgPSBvYmouZ2V0SGVpZ2h0KCk7XG4gICAgXG4gICAgY29uc3Qgb2JqTGVmdCA9IG9ialggLSBvYmpXaWR0aCAvIDI7XG4gICAgY29uc3Qgb2JqUmlnaHQgPSBvYmpYICsgb2JqV2lkdGggLyAyO1xuICAgIGNvbnN0IG9ialRvcCA9IG9ialkgLSBvYmpIZWlnaHQgLyAyO1xuICAgIGNvbnN0IG9iakJvdHRvbSA9IG9ialkgKyBvYmpIZWlnaHQgLyAyO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICBwb2ludFggPj0gb2JqTGVmdCAmJlxuICAgICAgcG9pbnRYIDw9IG9ialJpZ2h0ICYmXG4gICAgICBwb2ludFkgPj0gb2JqVG9wICYmXG4gICAgICBwb2ludFkgPD0gb2JqQm90dG9tXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRmFydFR5cGUgfSBmcm9tICcuLi9nYW1lL0ZhcnRUeXBlJztcblxuLyoqXG4gKiBBIG5vLW9wIHNvdW5kIG1hbmFnZXIgYXMgcGVyIHJlcXVlc3QgdG8gcmVtb3ZlIHNvdW5kIGZyb20gdGhlIGdhbWVcbiAqL1xuZXhwb3J0IGNsYXNzIFNvdW5kTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIE5vIHNvdW5kcyB0byBpbml0aWFsaXplXG4gIH1cbiAgXG4gIHB1YmxpYyBsb2FkU291bmRzKCk6IHZvaWQge1xuICAgIC8vIE5vLW9wXG4gIH1cbiAgXG4gIHB1YmxpYyBwbGF5QmFja2dyb3VuZE11c2ljKCk6IHZvaWQge1xuICAgIC8vIE5vLW9wXG4gIH1cbiAgXG4gIHB1YmxpYyBzdG9wQmFja2dyb3VuZE11c2ljKCk6IHZvaWQge1xuICAgIC8vIE5vLW9wXG4gIH1cbiAgXG4gIHB1YmxpYyBwbGF5RmFydFNvdW5kKGZhcnRUeXBlOiBGYXJ0VHlwZSk6IHZvaWQge1xuICAgIC8vIE5vLW9wXG4gIH1cbiAgXG4gIHB1YmxpYyBwbGF5SGl0U291bmQoKTogdm9pZCB7XG4gICAgLy8gTm8tb3BcbiAgfVxuICBcbiAgcHVibGljIHBsYXlQb3dlclVwU291bmQoKTogdm9pZCB7XG4gICAgLy8gTm8tb3BcbiAgfVxuICBcbiAgcHVibGljIHBsYXlMZXZlbENvbXBsZXRlU291bmQoKTogdm9pZCB7XG4gICAgLy8gTm8tb3BcbiAgfVxuICBcbiAgcHVibGljIHBsYXlHYW1lT3ZlclNvdW5kKCk6IHZvaWQge1xuICAgIC8vIE5vLW9wXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBIaWdoU2NvcmVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBTVE9SQUdFX0tFWSA9ICdmYXJ0b2dnZXJfaGlnaF9zY29yZXMnO1xuICBwcml2YXRlIHNjb3JlczogbnVtYmVyW10gPSBbXTtcbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubG9hZFNjb3JlcygpO1xuICB9XG4gIFxuICAvKipcbiAgICogQWRkIGEgbmV3IHNjb3JlIHRvIHRoZSBoaWdoIHNjb3JlcyBsaXN0XG4gICAqL1xuICBwdWJsaWMgYWRkU2NvcmUoc2NvcmU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2NvcmVzLnB1c2goc2NvcmUpO1xuICAgIFxuICAgIC8vIFNvcnQgc2NvcmVzIGluIGRlc2NlbmRpbmcgb3JkZXJcbiAgICB0aGlzLnNjb3Jlcy5zb3J0KChhLCBiKSA9PiBiIC0gYSk7XG4gICAgXG4gICAgLy8gS2VlcCBvbmx5IHRoZSB0b3AgMTAgc2NvcmVzXG4gICAgaWYgKHRoaXMuc2NvcmVzLmxlbmd0aCA+IDEwKSB7XG4gICAgICB0aGlzLnNjb3JlcyA9IHRoaXMuc2NvcmVzLnNsaWNlKDAsIDEwKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zYXZlU2NvcmVzKCk7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBHZXQgYWxsIGhpZ2ggc2NvcmVzXG4gICAqL1xuICBwdWJsaWMgZ2V0U2NvcmVzKCk6IG51bWJlcltdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuc2NvcmVzXTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgZ2l2ZW4gc2NvcmUgaXMgYSBoaWdoIHNjb3JlXG4gICAqL1xuICBwdWJsaWMgaXNIaWdoU2NvcmUoc2NvcmU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vIElmIHdlIGhhdmUgbGVzcyB0aGFuIDEwIHNjb3JlcywgYW55IHNjb3JlIGlzIGEgaGlnaCBzY29yZVxuICAgIGlmICh0aGlzLnNjb3Jlcy5sZW5ndGggPCAxMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgaWYgdGhlIHNjb3JlIGlzIGhpZ2hlciB0aGFuIHRoZSBsb3dlc3QgaGlnaCBzY29yZVxuICAgIHJldHVybiBzY29yZSA+IHRoaXMuc2NvcmVzW3RoaXMuc2NvcmVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIFxuICAvKipcbiAgICogQ2xlYXIgYWxsIGhpZ2ggc2NvcmVzXG4gICAqL1xuICBwdWJsaWMgY2xlYXJTY29yZXMoKTogdm9pZCB7XG4gICAgdGhpcy5zY29yZXMgPSBbXTtcbiAgICB0aGlzLnNhdmVTY29yZXMoKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIExvYWQgc2NvcmVzIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgKi9cbiAgcHJpdmF0ZSBsb2FkU2NvcmVzKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0b3JlZFNjb3JlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuU1RPUkFHRV9LRVkpO1xuICAgIFxuICAgIGlmIChzdG9yZWRTY29yZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc2NvcmVzID0gSlNPTi5wYXJzZShzdG9yZWRTY29yZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzdG9yZWQgc2NvcmVzOicsIGVycm9yKTtcbiAgICAgICAgdGhpcy5zY29yZXMgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBTYXZlIHNjb3JlcyB0byBsb2NhbCBzdG9yYWdlXG4gICAqL1xuICBwcml2YXRlIHNhdmVTY29yZXMoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHRoaXMuc2NvcmVzKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBzY29yZXM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRnJvZyB9IGZyb20gJy4vRnJvZyc7XG5pbXBvcnQgeyBDYXIgfSBmcm9tICcuL0Nhcic7XG5pbXBvcnQgeyBQb3dlclVwIH0gZnJvbSAnLi9Qb3dlclVwJztcbmltcG9ydCB7IEZhcnRUeXBlIH0gZnJvbSAnLi9GYXJ0VHlwZSc7XG5pbXBvcnQgeyBMZXZlbCB9IGZyb20gJy4vTGV2ZWwnO1xuaW1wb3J0IHsgSW5wdXRIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbHMvSW5wdXRIYW5kbGVyJztcbmltcG9ydCB7IENvbGxpc2lvbkRldGVjdG9yIH0gZnJvbSAnLi4vdXRpbHMvQ29sbGlzaW9uRGV0ZWN0b3InO1xuaW1wb3J0IHsgU291bmRNYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvU291bmRNYW5hZ2VyJztcbmltcG9ydCB7IEhpZ2hTY29yZU1hbmFnZXIgfSBmcm9tICcuLi91dGlscy9IaWdoU2NvcmVNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEdhbWUge1xuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHByaXZhdGUgZnJvZyE6IEZyb2c7ICAvLyBVc2luZyAhIHRvIGluZGljYXRlIGl0IHdpbGwgYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIHVzZVxuICBwcml2YXRlIGNhcnM6IENhcltdID0gW107XG4gIHByaXZhdGUgcG93ZXJVcHM6IFBvd2VyVXBbXSA9IFtdO1xuICBwcml2YXRlIGZhcnRDbG91ZHM6IGFueVtdID0gW107XG4gIHByaXZhdGUgc2NvcmU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbGV2ZWw6IG51bWJlciA9IDE7XG4gIHByaXZhdGUgdGltZTogbnVtYmVyID0gNjA7XG4gIHByaXZhdGUgaXNHYW1lT3ZlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGlzR2FtZVJ1bm5pbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBsYXN0VGltZXN0YW1wOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGlucHV0SGFuZGxlcjogSW5wdXRIYW5kbGVyO1xuICBwcml2YXRlIGNvbGxpc2lvbkRldGVjdG9yOiBDb2xsaXNpb25EZXRlY3RvcjtcbiAgcHJpdmF0ZSBzb3VuZE1hbmFnZXI6IFNvdW5kTWFuYWdlcjtcbiAgcHJpdmF0ZSBoaWdoU2NvcmVNYW5hZ2VyOiBIaWdoU2NvcmVNYW5hZ2VyO1xuICBwcml2YXRlIGN1cnJlbnRMZXZlbCE6IExldmVsOyAgLy8gVXNpbmcgISB0byBpbmRpY2F0ZSBpdCB3aWxsIGJlIGluaXRpYWxpemVkIGJlZm9yZSB1c2VcbiAgcHJpdmF0ZSBsZXZlbHM6IExldmVsW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG4gICAgdGhpcy5pbnB1dEhhbmRsZXIgPSBuZXcgSW5wdXRIYW5kbGVyKCk7XG4gICAgdGhpcy5jb2xsaXNpb25EZXRlY3RvciA9IG5ldyBDb2xsaXNpb25EZXRlY3RvcigpO1xuICAgIHRoaXMuc291bmRNYW5hZ2VyID0gbmV3IFNvdW5kTWFuYWdlcigpO1xuICAgIHRoaXMuaGlnaFNjb3JlTWFuYWdlciA9IG5ldyBIaWdoU2NvcmVNYW5hZ2VyKCk7XG4gIH1cblxuICBwdWJsaWMgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBidXR0b25zXG4gICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtYnV0dG9uJyk7XG4gICAgY29uc3QgcmVzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXJ0LWJ1dHRvbicpO1xuXG4gICAgaWYgKHN0YXJ0QnV0dG9uKSB7XG4gICAgICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc3RhcnRHYW1lKCkpO1xuICAgIH1cblxuICAgIGlmIChyZXN0YXJ0QnV0dG9uKSB7XG4gICAgICByZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5yZXN0YXJ0R2FtZSgpKTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIGxldmVsc1xuICAgIHRoaXMuaW5pdGlhbGl6ZUxldmVscygpO1xuICAgIFxuICAgIC8vIERpc3BsYXkgaGlnaCBzY29yZXNcbiAgICB0aGlzLmRpc3BsYXlIaWdoU2NvcmVzKCk7XG5cbiAgICAvLyBMb2FkIHNvdW5kc1xuICAgIHRoaXMuc291bmRNYW5hZ2VyLmxvYWRTb3VuZHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUxldmVscygpOiB2b2lkIHtcbiAgICAvLyBDcmVhdGUgZGlmZmVyZW50IGxldmVscyB3aXRoIGluY3JlYXNpbmcgZGlmZmljdWx0eVxuICAgIHRoaXMubGV2ZWxzLnB1c2gobmV3IExldmVsKDEsIDIsIDEsIDEpKTsgLy8gTGV2ZWwgMTogc2xvdyBjYXJzLCBmZXcgY2FycywgZmV3IHBvd2VyLXVwc1xuICAgIHRoaXMubGV2ZWxzLnB1c2gobmV3IExldmVsKDIsIDMsIDEuNSwgMikpOyAvLyBMZXZlbCAyOiBtb3JlIGNhcnMsIGZhc3RlciwgbW9yZSBwb3dlci11cHNcbiAgICB0aGlzLmxldmVscy5wdXNoKG5ldyBMZXZlbCgzLCA0LCAyLCAyKSk7IC8vIExldmVsIDM6IGV2ZW4gbW9yZSBjYXJzLCBldmVuIGZhc3RlclxuICAgIHRoaXMubGV2ZWxzLnB1c2gobmV3IExldmVsKDQsIDUsIDIuNSwgMykpOyAvLyBMZXZlbCA0OiBsb3RzIG9mIGNhcnMsIHZlcnkgZmFzdFxuICAgIHRoaXMubGV2ZWxzLnB1c2gobmV3IExldmVsKDUsIDYsIDMsIDMpKTsgLy8gTGV2ZWwgNTogZXh0cmVtZSBkaWZmaWN1bHR5XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0R2FtZSgpOiB2b2lkIHtcbiAgICAvLyBIaWRlIHN0YXJ0IHNjcmVlblxuICAgIGNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXNjcmVlbicpO1xuICAgIGlmIChzdGFydFNjcmVlbikge1xuICAgICAgc3RhcnRTY3JlZW4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICAvLyBSZXNldCBnYW1lIHN0YXRlXG4gICAgdGhpcy5zY29yZSA9IDA7XG4gICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgdGhpcy50aW1lID0gNjA7XG4gICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XG4gICAgdGhpcy5pc0dhbWVSdW5uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNhcnMgPSBbXTtcbiAgICB0aGlzLnBvd2VyVXBzID0gW107XG4gICAgdGhpcy5mYXJ0Q2xvdWRzID0gW107XG5cbiAgICAvLyBTZXQgY3VycmVudCBsZXZlbFxuICAgIHRoaXMuY3VycmVudExldmVsID0gdGhpcy5sZXZlbHNbMF07XG5cbiAgICAvLyBDcmVhdGUgcGxheWVyXG4gICAgdGhpcy5mcm9nID0gbmV3IEZyb2coXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIDIsXG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLSA1MCxcbiAgICAgIHRoaXMuY2FudmFzXG4gICAgKTtcblxuICAgIC8vIFN0YXJ0IGdhbWUgbG9vcFxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWVzdGFtcCkgPT4gdGhpcy5nYW1lTG9vcCh0aW1lc3RhbXApKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2FtZUxvb3AodGltZXN0YW1wOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNHYW1lUnVubmluZykgcmV0dXJuO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGRlbHRhIHRpbWUgKHRpbWUgc2luY2UgbGFzdCBmcmFtZSlcbiAgICBjb25zdCBkZWx0YVRpbWUgPSB0aGlzLmxhc3RUaW1lc3RhbXAgPyAodGltZXN0YW1wIC0gdGhpcy5sYXN0VGltZXN0YW1wKSAvIDEwMDAgOiAwO1xuICAgIHRoaXMubGFzdFRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcblxuICAgIC8vIFVwZGF0ZSBnYW1lIHRpbWVyXG4gICAgdGhpcy51cGRhdGVUaW1lcihkZWx0YVRpbWUpO1xuXG4gICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgLy8gVXBkYXRlIGFuZCBkcmF3IGdhbWUgb2JqZWN0c1xuICAgIHRoaXMudXBkYXRlKGRlbHRhVGltZSk7XG4gICAgdGhpcy5kcmF3KCk7XG5cbiAgICAvLyBDaGVjayBmb3IgY29sbGlzaW9uc1xuICAgIHRoaXMuY2hlY2tDb2xsaXNpb25zKCk7XG5cbiAgICAvLyBDaGVjayBmb3IgbGV2ZWwgY29tcGxldGlvblxuICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRpb24oKTtcblxuICAgIC8vIFVwZGF0ZSBpbnB1dCBoYW5kbGVyIGZvciBuZXh0IGZyYW1lXG4gICAgdGhpcy5pbnB1dEhhbmRsZXIudXBkYXRlKCk7XG5cbiAgICAvLyBDaGVjayBmb3IgZ2FtZSBvdmVyIGNvbmRpdGlvbnNcbiAgICBpZiAodGhpcy50aW1lIDw9IDApIHtcbiAgICAgIHRoaXMuZ2FtZU92ZXIoKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzR2FtZU92ZXIpIHtcbiAgICAgIC8vIENvbnRpbnVlIHRoZSBnYW1lIGxvb3AgaWYgbm90IGdhbWUgb3ZlclxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZXN0YW1wKSA9PiB0aGlzLmdhbWVMb29wKHRpbWVzdGFtcCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gSGFuZGxlIGlucHV0c1xuICAgIGlmICh0aGlzLmlucHV0SGFuZGxlci5pc0tleURvd24oJ0Fycm93TGVmdCcpKSB7XG4gICAgICB0aGlzLmZyb2cubW92ZUxlZnQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXRIYW5kbGVyLmlzS2V5RG93bignQXJyb3dSaWdodCcpKSB7XG4gICAgICB0aGlzLmZyb2cubW92ZVJpZ2h0KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlucHV0SGFuZGxlci5pc0tleVByZXNzZWQoJyAnKSkge1xuICAgICAgdGhpcy5mcm9nLmZhcnQoKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgZnJvZ1xuICAgIHRoaXMuZnJvZy51cGRhdGUoZGVsdGFUaW1lKTtcblxuICAgIC8vIFNwYXduIGNhcnMgYmFzZWQgb24gbGV2ZWwgZGlmZmljdWx0eVxuICAgIHRoaXMuc3Bhd25DYXJzKGRlbHRhVGltZSk7XG5cbiAgICAvLyBTcGF3biBwb3dlci11cHMgb2NjYXNpb25hbGx5XG4gICAgdGhpcy5zcGF3blBvd2VyVXBzKGRlbHRhVGltZSk7XG5cbiAgICAvLyBVcGRhdGUgY2Fyc1xuICAgIHRoaXMuY2Fycy5mb3JFYWNoKChjYXIsIGluZGV4KSA9PiB7XG4gICAgICBjYXIudXBkYXRlKGRlbHRhVGltZSk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBjYXJzIHRoYXQgYXJlIG9mZi1zY3JlZW5cbiAgICAgIGlmIChjYXIuaXNPZmZTY3JlZW4oKSkge1xuICAgICAgICB0aGlzLmNhcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5pbmNyZWFzZVNjb3JlKDEwKTsgLy8gUG9pbnRzIGZvciBhdm9pZGluZyBhIGNhclxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHBvd2VyLXVwc1xuICAgIHRoaXMucG93ZXJVcHMuZm9yRWFjaCgocG93ZXJVcCwgaW5kZXgpID0+IHtcbiAgICAgIHBvd2VyVXAudXBkYXRlKGRlbHRhVGltZSk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBwb3dlci11cHMgdGhhdCBhcmUgb2ZmLXNjcmVlblxuICAgICAgaWYgKHBvd2VyVXAuaXNPZmZTY3JlZW4oKSkge1xuICAgICAgICB0aGlzLnBvd2VyVXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgZmFydCBjbG91ZHNcbiAgICB0aGlzLmZhcnRDbG91ZHMuZm9yRWFjaCgoY2xvdWQsIGluZGV4KSA9PiB7XG4gICAgICBjbG91ZC51cGRhdGUoZGVsdGFUaW1lKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGNsb3VkcyB0aGF0IGhhdmUgZGlzc2lwYXRlZFxuICAgICAgaWYgKGNsb3VkLmlzRGlzc2lwYXRlZCgpKSB7XG4gICAgICAgIHRoaXMuZmFydENsb3Vkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3KCk6IHZvaWQge1xuICAgIC8vIERyYXcgYmFja2dyb3VuZFxuICAgIHRoaXMuZHJhd0JhY2tncm91bmQoKTtcbiAgICBcbiAgICAvLyBEcmF3IGdhbWUgb2JqZWN0c1xuICAgIHRoaXMuY2Fycy5mb3JFYWNoKGNhciA9PiBjYXIuZHJhdyh0aGlzLmN0eCkpO1xuICAgIHRoaXMucG93ZXJVcHMuZm9yRWFjaChwb3dlclVwID0+IHBvd2VyVXAuZHJhdyh0aGlzLmN0eCkpO1xuICAgIHRoaXMuZmFydENsb3Vkcy5mb3JFYWNoKGNsb3VkID0+IGNsb3VkLmRyYXcodGhpcy5jdHgpKTtcbiAgICB0aGlzLmZyb2cuZHJhdyh0aGlzLmN0eCk7XG4gICAgXG4gICAgLy8gVXBkYXRlIFVJIGVsZW1lbnRzXG4gICAgdGhpcy51cGRhdGVVSUVsZW1lbnRzKCk7XG4gIH1cblxuICBwcml2YXRlIGRyYXdCYWNrZ3JvdW5kKCk6IHZvaWQge1xuICAgIC8vIERyYXcgcm9hZCBhbmQgbGFuZXNcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAnIzQ0NDQ0NCc7XG4gICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgXG4gICAgLy8gRHJhdyBsYW5lIG1hcmtpbmdzXG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSAnI0ZGRkZGRic7XG4gICAgdGhpcy5jdHguc2V0TGluZURhc2goWzIwLCAxNV0pO1xuICAgIFxuICAgIGNvbnN0IGxhbmVIZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyA2O1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgNjsgaSsrKSB7XG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbygwLCBsYW5lSGVpZ2h0ICogaSk7XG4gICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIGxhbmVIZWlnaHQgKiBpKTtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZXNldCBsaW5lIGRhc2hcbiAgICB0aGlzLmN0eC5zZXRMaW5lRGFzaChbXSk7XG4gIH1cblxuICBwcml2YXRlIHNwYXduQ2FycyhkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIFByb2JhYmlsaXR5IG9mIHNwYXduaW5nIGEgbmV3IGNhciBkZXBlbmRzIG9uIGxldmVsIGRpZmZpY3VsdHlcbiAgICBjb25zdCBzcGF3bkNoYW5jZSA9IHRoaXMuY3VycmVudExldmVsLmNhclNwYXduUmF0ZSAqIGRlbHRhVGltZTtcbiAgICBcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHNwYXduQ2hhbmNlKSB7XG4gICAgICBjb25zdCBsYW5lSGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gNjtcbiAgICAgIGNvbnN0IGxhbmUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7IC8vIExhbmVzIDEtNVxuICAgICAgY29uc3QgeVBvc2l0aW9uID0gbGFuZSAqIGxhbmVIZWlnaHQgLSBsYW5lSGVpZ2h0IC8gMjtcbiAgICAgIFxuICAgICAgLy8gQWx0ZXJuYXRlIGRpcmVjdGlvbiBiYXNlZCBvbiBsYW5lXG4gICAgICBjb25zdCBpc0xlZnRUb1JpZ2h0ID0gbGFuZSAlIDIgPT09IDA7XG4gICAgICBjb25zdCB4UG9zaXRpb24gPSBpc0xlZnRUb1JpZ2h0ID8gLTUwIDogdGhpcy5jYW52YXMud2lkdGggKyA1MDtcbiAgICAgIFxuICAgICAgLy8gUmFuZG9tIGNhciBzcGVlZCBiYXNlZCBvbiBsZXZlbCBkaWZmaWN1bHR5XG4gICAgICBjb25zdCBzcGVlZCA9IChpc0xlZnRUb1JpZ2h0ID8gMSA6IC0xKSAqIFxuICAgICAgICAodGhpcy5jdXJyZW50TGV2ZWwuY2FyU3BlZWQgKiAxMDAgKiAoMC44ICsgTWF0aC5yYW5kb20oKSAqIDAuNCkpO1xuICAgICAgXG4gICAgICBjb25zdCBjYXIgPSBuZXcgQ2FyKHhQb3NpdGlvbiwgeVBvc2l0aW9uLCBzcGVlZCwgYGNhciR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgKyAxfWApO1xuICAgICAgdGhpcy5jYXJzLnB1c2goY2FyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNwYXduUG93ZXJVcHMoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBQcm9iYWJpbGl0eSBvZiBzcGF3bmluZyBhIG5ldyBwb3dlci11cCBkZXBlbmRzIG9uIGxldmVsXG4gICAgY29uc3Qgc3Bhd25DaGFuY2UgPSAwLjAxICogZGVsdGFUaW1lICogdGhpcy5jdXJyZW50TGV2ZWwucG93ZXJVcFJhdGU7XG4gICAgXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCBzcGF3bkNoYW5jZSAmJiB0aGlzLnBvd2VyVXBzLmxlbmd0aCA8IDMpIHtcbiAgICAgIGNvbnN0IHggPSBNYXRoLnJhbmRvbSgpICogKHRoaXMuY2FudmFzLndpZHRoIC0gNDApICsgMjA7XG4gICAgICBjb25zdCB5ID0gTWF0aC5yYW5kb20oKSAqICh0aGlzLmNhbnZhcy5oZWlnaHQgLSAxMDApICsgNTA7XG4gICAgICBcbiAgICAgIC8vIFJhbmRvbWx5IHNlbGVjdCBhIGZhcnQgdHlwZSBmb3IgdGhlIHBvd2VyLXVwXG4gICAgICBjb25zdCBmYXJ0VHlwZXMgPSBbXG4gICAgICAgIEZhcnRUeXBlLlNIT1JUX0ZBUlQsXG4gICAgICAgIEZhcnRUeXBlLkxPTkdfRkFSVCwgXG4gICAgICAgIEZhcnRUeXBlLkNJUkNMRV9GQVJULFxuICAgICAgICBGYXJ0VHlwZS5TVVBFUl9GQVJULFxuICAgICAgICBGYXJ0VHlwZS5NRUdBX0ZBUlQsXG4gICAgICAgIEZhcnRUeXBlLlVMVFJBX0ZBUlRcbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZmFydFR5cGVzLmxlbmd0aCk7XG4gICAgICBjb25zdCBmYXJ0VHlwZSA9IGZhcnRUeXBlc1tyYW5kb21JbmRleF07XG4gICAgICBcbiAgICAgIGNvbnN0IHBvd2VyVXAgPSBuZXcgUG93ZXJVcCh4LCB5LCBmYXJ0VHlwZSk7XG4gICAgICB0aGlzLnBvd2VyVXBzLnB1c2gocG93ZXJVcCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0NvbGxpc2lvbnMoKTogdm9pZCB7XG4gICAgLy8gQ2hlY2sgZm9yIGNvbGxpc2lvbnMgYmV0d2VlbiBmcm9nIGFuZCBjYXJzXG4gICAgZm9yIChjb25zdCBjYXIgb2YgdGhpcy5jYXJzKSB7XG4gICAgICBpZiAodGhpcy5jb2xsaXNpb25EZXRlY3Rvci5jaGVja0NvbGxpc2lvbih0aGlzLmZyb2csIGNhcikpIHtcbiAgICAgICAgdGhpcy5mcm9nLmhpdCgpO1xuICAgICAgICB0aGlzLmdhbWVPdmVyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY29sbGlzaW9ucyBiZXR3ZWVuIGZyb2cgYW5kIHBvd2VyLXVwc1xuICAgIGZvciAobGV0IGkgPSB0aGlzLnBvd2VyVXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5jb2xsaXNpb25EZXRlY3Rvci5jaGVja0NvbGxpc2lvbih0aGlzLmZyb2csIHRoaXMucG93ZXJVcHNbaV0pKSB7XG4gICAgICAgIGNvbnN0IHBvd2VyVXAgPSB0aGlzLnBvd2VyVXBzW2ldO1xuICAgICAgICB0aGlzLmZyb2cuY29sbGVjdFBvd2VyVXAocG93ZXJVcC5nZXRGYXJ0VHlwZSgpKTtcbiAgICAgICAgdGhpcy5pbmNyZWFzZVNjb3JlKDUwKTsgLy8gUG9pbnRzIGZvciBjb2xsZWN0aW5nIGEgcG93ZXItdXBcbiAgICAgICAgdGhpcy5hZGRUaW1lKDUpOyAvLyBBZGQgNSBzZWNvbmRzIGZvciBjb2xsZWN0aW5nIGEgcG93ZXItdXBcbiAgICAgICAgdGhpcy5wb3dlclVwcy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbGxpc2lvbnMgYmV0d2VlbiBmYXJ0IGNsb3VkcyBhbmQgY2Fyc1xuICAgIGZvciAoY29uc3QgY2xvdWQgb2YgdGhpcy5mYXJ0Q2xvdWRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5jYXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbGxpc2lvbkRldGVjdG9yLmNoZWNrQ29sbGlzaW9uKGNsb3VkLCB0aGlzLmNhcnNbaV0pKSB7XG4gICAgICAgICAgLy8gU2xvdyBkb3duIGNhcnMgdGhhdCBoaXQgZmFydCBjbG91ZHNcbiAgICAgICAgICB0aGlzLmNhcnNbaV0uc2xvd0Rvd24oKTtcbiAgICAgICAgICB0aGlzLmluY3JlYXNlU2NvcmUoMTUpOyAvLyBQb2ludHMgZm9yIHNsb3dpbmcgYSBjYXJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tMZXZlbENvbXBsZXRpb24oKTogdm9pZCB7XG4gICAgLy8gQ2hlY2sgaWYgcGxheWVyIGhhcyBjcm9zc2VkIHRvIHRoZSB0b3Agb2YgdGhlIHNjcmVlblxuICAgIGlmICh0aGlzLmZyb2cuZ2V0WSgpIDw9IDMwKSB7XG4gICAgICB0aGlzLmxldmVsQ29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGxldmVsQ29tcGxldGUoKTogdm9pZCB7XG4gICAgLy8gSW5jcmVhc2UgbGV2ZWxcbiAgICB0aGlzLmxldmVsKys7XG4gICAgXG4gICAgLy8gQWRkIGJvbnVzIHBvaW50cyBmb3IgY29tcGxldGluZyBsZXZlbFxuICAgIGNvbnN0IGxldmVsQm9udXMgPSB0aGlzLmxldmVsICogMTAwO1xuICAgIHRoaXMuaW5jcmVhc2VTY29yZShsZXZlbEJvbnVzKTtcbiAgICBcbiAgICAvLyBBZGQgYm9udXMgdGltZVxuICAgIHRoaXMuYWRkVGltZSgxMCk7XG4gICAgXG4gICAgLy8gU2V0IG5ldyBsZXZlbCBkaWZmaWN1bHR5XG4gICAgY29uc3QgbGV2ZWxJbmRleCA9IE1hdGgubWluKHRoaXMubGV2ZWwgLSAxLCB0aGlzLmxldmVscy5sZW5ndGggLSAxKTtcbiAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IHRoaXMubGV2ZWxzW2xldmVsSW5kZXhdO1xuICAgIFxuICAgIC8vIExldmVsIGNvbXBsZXRlZFxuICAgIFxuICAgIC8vIFJlc2V0IGZyb2cgcG9zaXRpb25cbiAgICB0aGlzLmZyb2cucmVzZXQodGhpcy5jYW52YXMud2lkdGggLyAyLCB0aGlzLmNhbnZhcy5oZWlnaHQgLSA1MCk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGxldmVsIGRpc3BsYXlcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGV2ZWwnKSEuaW5uZXJUZXh0ID0gYExldmVsOiAke3RoaXMubGV2ZWx9YDtcbiAgfVxuXG4gIHByaXZhdGUgaW5jcmVhc2VTY29yZShwb2ludHM6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2NvcmUgKz0gcG9pbnRzO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpIS5pbm5lclRleHQgPSBgU2NvcmU6ICR7dGhpcy5zY29yZX1gO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVUaW1lcihkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGltZSAtPSBkZWx0YVRpbWU7XG4gICAgXG4gICAgaWYgKHRoaXMudGltZSA8IDApIHtcbiAgICAgIHRoaXMudGltZSA9IDA7XG4gICAgfVxuICAgIFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lJykhLmlubmVyVGV4dCA9IGBUaW1lOiAke01hdGguY2VpbCh0aGlzLnRpbWUpfWA7XG4gIH1cblxuICBwcml2YXRlIGFkZFRpbWUoc2Vjb25kczogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lICs9IHNlY29uZHM7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWUnKSEuaW5uZXJUZXh0ID0gYFRpbWU6ICR7TWF0aC5jZWlsKHRoaXMudGltZSl9YDtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlVUlFbGVtZW50cygpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUnKSEuaW5uZXJUZXh0ID0gYFNjb3JlOiAke3RoaXMuc2NvcmV9YDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZScpIS5pbm5lclRleHQgPSBgVGltZTogJHtNYXRoLmNlaWwodGhpcy50aW1lKX1gO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZXZlbCcpIS5pbm5lclRleHQgPSBgTGV2ZWw6ICR7dGhpcy5sZXZlbH1gO1xuICB9XG5cbiAgcHJpdmF0ZSBnYW1lT3ZlcigpOiB2b2lkIHtcbiAgICB0aGlzLmlzR2FtZU92ZXIgPSB0cnVlO1xuICAgIHRoaXMuaXNHYW1lUnVubmluZyA9IGZhbHNlO1xuICAgIFxuICAgIC8vIFNob3cgZ2FtZSBvdmVyIHNjcmVlblxuICAgIGNvbnN0IGdhbWVPdmVyU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtb3Zlci1zY3JlZW4nKTtcbiAgICBpZiAoZ2FtZU92ZXJTY3JlZW4pIHtcbiAgICAgIGdhbWVPdmVyU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSBmaW5hbCBzY29yZVxuICAgIGNvbnN0IGZpbmFsU2NvcmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmFsLXNjb3JlJyk7XG4gICAgaWYgKGZpbmFsU2NvcmVFbGVtZW50KSB7XG4gICAgICBmaW5hbFNjb3JlRWxlbWVudC5pbm5lclRleHQgPSBgRmluYWwgU2NvcmU6ICR7dGhpcy5zY29yZX1gO1xuICAgIH1cbiAgICBcbiAgICAvLyBTYXZlIGhpZ2ggc2NvcmVcbiAgICB0aGlzLmhpZ2hTY29yZU1hbmFnZXIuYWRkU2NvcmUodGhpcy5zY29yZSk7XG4gICAgdGhpcy5kaXNwbGF5SGlnaFNjb3JlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXN0YXJ0R2FtZSgpOiB2b2lkIHtcbiAgICAvLyBIaWRlIGdhbWUgb3ZlciBzY3JlZW5cbiAgICBjb25zdCBnYW1lT3ZlclNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLW92ZXItc2NyZWVuJyk7XG4gICAgaWYgKGdhbWVPdmVyU2NyZWVuKSB7XG4gICAgICBnYW1lT3ZlclNjcmVlbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdGFydCBhIG5ldyBnYW1lXG4gICAgdGhpcy5zdGFydEdhbWUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZGlzcGxheUhpZ2hTY29yZXMoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcmVzID0gdGhpcy5oaWdoU2NvcmVNYW5hZ2VyLmdldFNjb3JlcygpO1xuICAgIGNvbnN0IHNjb3Jlc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmVzLWxpc3QnKTtcbiAgICBcbiAgICBpZiAoc2NvcmVzTGlzdCkge1xuICAgICAgc2NvcmVzTGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIFxuICAgICAgc2NvcmVzLnNsaWNlKDAsIDUpLmZvckVhY2goKHNjb3JlOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3Qgc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNjb3JlRWxlbWVudC5pbm5lclRleHQgPSBgJHtpbmRleCArIDF9LiAke3Njb3JlfWA7XG4gICAgICAgIHNjb3Jlc0xpc3QuYXBwZW5kQ2hpbGQoc2NvcmVFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBGYXJ0b2dnZXIgLSBBIEZyb2dnZXItbGlrZSBnYW1lIHdpdGggZmFydGluZyBtZWNoYW5pY3NcbiAqIE1haW4gZW50cnkgcG9pbnQgZmlsZVxuICovXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi9nYW1lL0dhbWUnO1xuXG4vLyBXYWl0IGZvciB0aGUgRE9NIHRvIGxvYWQgYmVmb3JlIGluaXRpYWxpemluZyB0aGUgZ2FtZVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gIGNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xuICBnYW1lLmluaXRpYWxpemUoKTtcbn0pO1xuIl0sIm5hbWVzIjpbIkZhcnRUeXBlIiwiRmFydENsb3VkIiwiY29uc3RydWN0b3IiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwibGlmZXRpbWUiLCJ0aGlzIiwibWF4TGlmZXRpbWUiLCJkaXNzaXBhdGlvblJhdGUiLCJncmVlbkNvbXBvbmVudCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJlZENvbXBvbmVudCIsImNvbG9yIiwidXBkYXRlIiwiZGVsdGFUaW1lIiwiZHJhdyIsImN0eCIsIm9wYWNpdHkiLCJjbG91ZENvbG9yIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJlbGxpcHNlIiwiUEkiLCJmaWxsIiwiaXNEaXNzaXBhdGVkIiwiZ2V0WCIsImdldFkiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsIkZyb2ciLCJjYW52YXMiLCJzcGVlZCIsImZhcnRQb3dlciIsImN1cnJlbnRGYXJ0VHlwZSIsIlNIT1JUX0ZBUlQiLCJpc0FsaXZlIiwiaXNGYXJ0aW5nIiwiZmFydEFuaW1hdGlvblRpbWVyIiwiZmFydEFuaW1hdGlvbkR1cmF0aW9uIiwiZmFydENsb3VkcyIsImkiLCJsZW5ndGgiLCJzcGxpY2UiLCJmb3JFYWNoIiwiY2xvdWQiLCJzYXZlIiwiZXllUmFkaXVzIiwiZXllT2Zmc2V0WCIsImV5ZU9mZnNldFkiLCJhcmMiLCJwdXBpbFJhZGl1cyIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibW92ZVRvIiwibGluZVRvIiwicXVhZHJhdGljQ3VydmVUbyIsInN0cm9rZSIsInJlc3RvcmUiLCJkcmF3RmFydFR5cGVJbmRpY2F0b3IiLCJMT05HX0ZBUlQiLCJDSVJDTEVfRkFSVCIsIlNVUEVSX0ZBUlQiLCJNRUdBX0ZBUlQiLCJVTFRSQV9GQVJUIiwibW92ZUxlZnQiLCJtb3ZlUmlnaHQiLCJmYXJ0IiwiY3JlYXRlU2hvcnRGYXJ0IiwibW92ZUZvcndhcmQiLCJjcmVhdGVMb25nRmFydCIsImNyZWF0ZUNpcmNsZUZhcnQiLCJjcmVhdGVTdXBlckZhcnQiLCJjcmVhdGVNZWdhRmFydCIsImNyZWF0ZVVsdHJhRmFydCIsImFtb3VudCIsInB1c2giLCJhbmdsZSIsImNsb3VkWCIsImNvcyIsImNsb3VkWSIsInNpbiIsInJpbmciLCJudW1DbG91ZHMiLCJyYWRpdXMiLCJoaXQiLCJjb2xsZWN0UG93ZXJVcCIsImZhcnRUeXBlIiwic2V0VGltZW91dCIsInJlc2V0IiwiZ2V0Q3VycmVudEZhcnRUeXBlIiwiZ2V0RmFydENsb3VkcyIsIkNhciIsImNhclR5cGUiLCJpc1Nsb3dlZCIsInNsb3dUaW1lciIsInNsb3dEdXJhdGlvbiIsIm9yaWdpbmFsU3BlZWQiLCJjYXJDb2xvciIsImlzUmlnaHRGYWNpbmciLCJmaWxsUmVjdCIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0Iiwid2luZG93WCIsIndpbmRvd1kiLCJ3aGVlbFJhZGl1cyIsIndoZWVsT2Zmc2V0WCIsImxpZ2h0UmFkaXVzIiwibGlnaHRPZmZzZXRYIiwibGlnaHRPZmZzZXRZIiwiZHJhd1Nsb3dFZmZlY3QiLCJzbG93RG93biIsImlzT2ZmU2NyZWVuIiwiUG93ZXJVcCIsInB1bHNlU2l6ZSIsInB1bHNlRGlyZWN0aW9uIiwicHVsc2VTcGVlZCIsImNvbG9ycyIsImxhYmVsIiwiZm9udCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwiZ2V0RmFydFR5cGUiLCJMZXZlbCIsImxldmVsIiwiY2FyU3Bhd25SYXRlIiwiY2FyU3BlZWQiLCJwb3dlclVwUmF0ZSIsIklucHV0SGFuZGxlciIsImtleXMiLCJNYXAiLCJrZXlzUHJlc3NlZFRoaXNGcmFtZSIsIlNldCIsIm1vdXNlWCIsIm1vdXNlWSIsIm1vdXNlQ2xpY2tlZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInNldCIsImtleSIsImFkZCIsImNsaWVudFgiLCJjbGllbnRZIiwiaXNLZXlEb3duIiwiZ2V0IiwiaXNLZXlQcmVzc2VkIiwiaXNQcmVzc2VkIiwiaGFzIiwiZGVsZXRlIiwiaXNNb3VzZUNsaWNrZWQiLCJ3YXNDbGlja2VkIiwiZ2V0TW91c2VYIiwiZ2V0TW91c2VZIiwiY2xlYXIiLCJDb2xsaXNpb25EZXRlY3RvciIsImNoZWNrQ29sbGlzaW9uIiwib2JqMSIsIm9iajIiLCJvYmoxWCIsIm9iajFZIiwib2JqMVdpZHRoIiwib2JqMUhlaWdodCIsIm9iajJYIiwib2JqMlkiLCJvYmoyV2lkdGgiLCJvYmoySGVpZ2h0IiwiaXNQb2ludEluT2JqZWN0IiwicG9pbnRYIiwicG9pbnRZIiwib2JqIiwib2JqWCIsIm9ialkiLCJvYmpXaWR0aCIsIm9iakhlaWdodCIsIlNvdW5kTWFuYWdlciIsImxvYWRTb3VuZHMiLCJwbGF5QmFja2dyb3VuZE11c2ljIiwic3RvcEJhY2tncm91bmRNdXNpYyIsInBsYXlGYXJ0U291bmQiLCJwbGF5SGl0U291bmQiLCJwbGF5UG93ZXJVcFNvdW5kIiwicGxheUxldmVsQ29tcGxldGVTb3VuZCIsInBsYXlHYW1lT3ZlclNvdW5kIiwiSGlnaFNjb3JlTWFuYWdlciIsIlNUT1JBR0VfS0VZIiwic2NvcmVzIiwibG9hZFNjb3JlcyIsImFkZFNjb3JlIiwic2NvcmUiLCJzb3J0IiwiYSIsImIiLCJzbGljZSIsInNhdmVTY29yZXMiLCJnZXRTY29yZXMiLCJpc0hpZ2hTY29yZSIsImNsZWFyU2NvcmVzIiwic3RvcmVkU2NvcmVzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJHYW1lIiwiY2FycyIsInBvd2VyVXBzIiwidGltZSIsImlzR2FtZU92ZXIiLCJpc0dhbWVSdW5uaW5nIiwibGFzdFRpbWVzdGFtcCIsImxldmVscyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwiaW5wdXRIYW5kbGVyIiwiY29sbGlzaW9uRGV0ZWN0b3IiLCJzb3VuZE1hbmFnZXIiLCJoaWdoU2NvcmVNYW5hZ2VyIiwiaW5pdGlhbGl6ZSIsInN0YXJ0QnV0dG9uIiwicmVzdGFydEJ1dHRvbiIsInN0YXJ0R2FtZSIsInJlc3RhcnRHYW1lIiwiaW5pdGlhbGl6ZUxldmVscyIsImRpc3BsYXlIaWdoU2NvcmVzIiwic3RhcnRTY3JlZW4iLCJzdHlsZSIsImRpc3BsYXkiLCJjdXJyZW50TGV2ZWwiLCJmcm9nIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZXN0YW1wIiwiZ2FtZUxvb3AiLCJ1cGRhdGVUaW1lciIsImNsZWFyUmVjdCIsImNoZWNrQ29sbGlzaW9ucyIsImNoZWNrTGV2ZWxDb21wbGV0aW9uIiwiZ2FtZU92ZXIiLCJzcGF3bkNhcnMiLCJzcGF3blBvd2VyVXBzIiwiY2FyIiwiaW5kZXgiLCJpbmNyZWFzZVNjb3JlIiwicG93ZXJVcCIsImRyYXdCYWNrZ3JvdW5kIiwidXBkYXRlVUlFbGVtZW50cyIsInNldExpbmVEYXNoIiwibGFuZUhlaWdodCIsInNwYXduQ2hhbmNlIiwibGFuZSIsInlQb3NpdGlvbiIsImlzTGVmdFRvUmlnaHQiLCJ4UG9zaXRpb24iLCJmYXJ0VHlwZXMiLCJhZGRUaW1lIiwibGV2ZWxDb21wbGV0ZSIsImxldmVsQm9udXMiLCJsZXZlbEluZGV4IiwibWluIiwiaW5uZXJUZXh0IiwicG9pbnRzIiwiY2VpbCIsInNlY29uZHMiLCJnYW1lT3ZlclNjcmVlbiIsImZpbmFsU2NvcmVFbGVtZW50Iiwic2NvcmVzTGlzdCIsImlubmVySFRNTCIsInNjb3JlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=